if(padFlag){var pad_viewport=document.createElement("meta");pad_viewport.name="viewport";pad_viewport.content="width=device-width, initial-scale=1.0";document.getElementsByTagName("head")[0].appendChild(pad_viewport);}baidu.event.on(document,"keypress",function(A){var B=baidu.event.getTarget(A).tagName.toLowerCase();if(B=="input"||B=="textarea"){return;}var _=baidu.event.getKeyCode(A);if(_=="106"){document.documentElement.scrollTop+=20;document.body.scrollTop+=20;}else{if(_=="107"){document.documentElement.scrollTop-=20;document.body.scrollTop-=20;}}});baidu.more.ns("bk.view");baidu.more.ns("bk.view.timer");bk.view.catalog=function(){var _={};_.init=function(_){this.subid=_;this.holder1=baidu.g("catalog-holder-"+_);this.holder2=baidu.g("catalog-holder-2-"+_);this.container=baidu.g("catalog-"+_);this.temp=null;this.data=null;this.mT=null;this.fadeT=null;this.mItems=this.holder1.getElementsByTagName("DD");this.mItemNum=this.holder1.getElementsByTagName("DD").length;this.mSubItems=null;this.mSubItemNum=0;this.mSub=this.holder1.getElementsByTagName("OL");this.mSubNum=this.mSub.length;this.mShowNum=8;this.h=0;this.dataH=0;this.fade=0;};_.start=function(G){if(!baidu.g("catalog-"+G)){return;}_.init(G);if(_.mItemNum<=_.mShowNum&&_.mSubNum==0){return;}var A="",B="",F;for(F=0;F<_.mSubNum;F++){_.mSub[F].style.display="inline";}var C=_.holder1.offsetWidth;for(F=0;F<_.mSubNum;F++){_.mSub[F].style.display="none";}if(_.mItemNum>_.mShowNum){for(F=0;F<_.mShowNum;F++){A+="<dd>"+_.mItems[F].innerHTML+"</dd>";}B="<dd id='cata-temp"+G+"' class='temp'><ul id='cata-data"+G+"' class='data'>";for(F=_.mShowNum;F<_.mItemNum;F++){B+="<li>"+_.mItems[F].innerHTML+"</li>";}B+="</ul></dd>";_.holder2.innerHTML=A+B;for(F=_.mShowNum;F<_.mItemNum;F++){_.mItems[F].style.display="none";}_.temp=baidu.g("cata-temp"+G);_.data=baidu.g("cata-data"+G);_.holder2.style.display="block";_.temp.style.height="0px";_.dataH=_.data.offsetHeight;var E=Math.round((_.dataH-_.mShowNum*22)/2);E=E-E%22;_.step=Math.max(22,E);}else{_.holder2.innerHTML=_.holder1.innerHTML;}_.holder1.style.width=C+"px";_.holder2.style.width=C+"px";_.holder1.style.visibility="hidden";_.holder1.style.paddingBottom="20px";_.holder2.style.display="block";_.holder2.className="holder2 arr";var D=document.createElement("div");D.id="catalog-holder"+_.subid;D.className="nslog:1017 catalog-holder";D.innerHTML="\u5c55\u5f00";_.holder2.appendChild(D);_.mSubItems=_.holder2.getElementsByTagName("OL");_.mSubItemNum=_.mSubItems.length;baidu.on(D,"mouseover",function(){baidu.addClass(this,"hover");});baidu.on(D,"mouseout",function(){baidu.removeClass(this,"hover");});baidu.on(D,"click",_.toggle);baidu.on(_.holder2,"mousedown",_.holderClick);D=null;};_.status=false;_.toggle=function(){clearTimeout(_.mT);try{baidu.un(document,"click",_.outclick);}catch(A){}if(_.status){_.min();}else{_.mT=setTimeout(_.maxM,10);_.status=true;baidu.on(document,"click",_.outclick);}};_.outclick=function(A){var B=baidu.event.get(A),C=B.target;if(!baidu.dom.contains(_.container,C)){clearTimeout(_.mT);_.min();try{baidu.un(document,"click",_.outclick);}catch(A){}}B=C=null;};_.holderClick=function(A){var C=baidu.event.get(A),D=C.target;if(_.status){if(D.nodeType==1){if(D.nodeName.toUpperCase()=="A"){_.min();var B=D.href.match(/#(.*)/);if(B){location.hash=B[0];}}}}else{if(!(D.nodeType==1&&D.id==("catalog-holder"+_.subid))){if(!(D.nodeType==1&&D.nodeName.toUpperCase()=="A")){_.toggle();}}}C=D=null;};_.min=function(){clearTimeout(_.mT);if(_.mSubNum>0){_.mT=setTimeout(_.hideSecondTitle,10);}else{_.mT=setTimeout(_.minM,100);}_.status=false;};_.maxM=function(){baidu.g("catalog-holder"+_.subid).className="nslog:1018 catalog-holder";baidu.g("catalog-holder"+_.subid).innerHTML="\u6536\u8d77";_.holder2.className="holder2 up";if(_.h<_.dataH){_.h+=_.step;_.h=Math.min(_.h,_.dataH);_.temp.style.height=_.h+"px";_.data.style.marginTop=(_.h-_.dataH)+"px";_.mT=setTimeout(_.maxM,10);}else{_.showSecondTitle();}_.status=true;};_.minM=function(){baidu.g("catalog-holder"+_.subid).innerHTML="\u5c55\u5f00";_.holder2.className="holder2 arr";if(_.h>0){_.h-=_.step;_.h=Math.max(_.h,0);_.temp.style.height=_.h+"px";_.data.style.marginTop=(_.h-_.dataH)+"px";_.mT=setTimeout(_.minM,10);}};_.fadeIn=function(){clearTimeout(_.fadeT);if(_.fade>=100){return;}_.fade+=25;var A;for(A=0;A<_.mSubItemNum;A++){_.mSubItems[A].style.filter="Alpha(Opacity="+_.fade+")";_.mSubItems[A].style.opacity=_.fade/100;}_.fadeT=setTimeout(_.fadeIn,20);};_.fadeOut=function(){clearTimeout(_.fadeT);if(_.fade<=25){var A;for(A=0;A<_.mSubItemNum;A++){_.mSubItems[A].style.display="none";}if(_.mItemNum>_.mShowNum){_.h=_.data.offsetHeight;_.temp.style.height=_.h+"px";}_.mT=setTimeout(_.minM,20);return;}_.fade-=25;_.fadeT=setTimeout(_.fadeOut,20);};_.showSecondTitle=function(){var A;for(A=0;A<_.mSubItemNum;A++){_.mSubItems[A].style.display="block";}if(_.mItemNum>_.mShowNum){_.h=_.data.offsetHeight;_.temp.style.height=_.h+"px";}clearTimeout(_.mT);};_.hideSecondTitle=function(){clearTimeout(_.mT);var A;for(A=0;A<_.mSubItemNum;A++){_.mSubItems[A].style.display="none";}if(_.mItemNum>_.mShowNum){_.h=_.data.offsetHeight;_.temp.style.height=_.h+"px";}_.mT=setTimeout(_.minM,20);};_.showCatalog=function(){var A=_.holder1.style.display=="none";_.holder1.style.display=A?"block":"none";if(_.mItemNum<=_.mShowNum&&_.mSubNum==0){_.holder2.style.display="none";}else{_.holder2.style.display=A?"block":"none";}baidu.g("dir-alt-"+_.subid).innerHTML=A?"\u9690\u85cf":"\u663e\u793a";};return{start:_.start,showCatalog:_.showCatalog};};baidu.more.ns("bk.view");bk.view.imageTitleInit=function(_){bk.view.imageInit(_);bk.view.picAct(_);_.style.visibility="visible";};bk.view.imageInit=function(B){var C=B.getElementsByTagName("span")[0],A=B.getElementsByTagName("img")[0].offsetWidth;if(!!C){var _=C.innerHTML,E=_.indexOf("<sup>"),D=E>0?_.substr(0,E):_;if(/^\s*$/.test(_)){C.innerHTML="&nbsp;&nbsp;";}else{C.innerHTML=baidu.string.wbr(D)+(E>0?_.substr(E):"");}}B.style.width=A+"px";return A;};bk.view.cardImageInit=function(A){var _=A.getElementsByTagName("img")[0];tools.image.sizelimit(_,200,200);A.style.width=_.width+"px";baidu.dom.last(A).innerHTML=_.title;};bk.view.picAct=function(B){B.style.position="relative";var A=B.getElementsByTagName("a")[0];if(A&&A.href.match(/\/albums\//)){var _=document.createElement("a");baidu.dom.addClass(_,"nslog:1200 pic-handle");_.title="\u67e5\u770b\u56fe\u7247";_.href=A.href;_.innerHTML="&nbsp;&nbsp;";_.target="_blank";baidu.dom.insertBefore(_,A);baidu.on(B,"mouseover",function(){baidu.dom.addClass(B,"pic-hover");});baidu.on(B,"mouseout",function(){baidu.dom.removeClass(B,"pic-hover");});baidu.on(_,"mouseover",function(){baidu.dom.addClass(B,"pic-hover");});}A=null;_=null;};bk.view.lemmaImageInit=function(_){baidu.each(baidu.q("text_pic",_),function(_){bk.view.imageTitleInit(_);});};baidu.on(window,"load",function(){bk.view.lemmaImageInit(baidu.g("lemmaContent-"+baikeViewInfo.expIndex));var _={snsKey:{tsina:"3417820038"},wbUid:1647247597,bdComment:" "};baidu.g("bdshell_js").src="http://share.baidu.com/static/js/shell_v2.js?t="+new Date().getHours();});