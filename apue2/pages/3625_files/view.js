baidu.each(baidu.dom.query(".lemma-main-content"),function(_){baidu.on(_,"mousedown",function(_){var B=baidu.event.get(_),A=B.target;if(A.tagName.toLowerCase()=="a"&&/\/view\/\d+.htm(l)?$/.test(A.href)){nslog(A.href,12);}A=null;});});bk.view.logInfo={};baidu.each(baidu.q("log-set-param"),function(B){var _=baidu.dom.getAttr(B,"log-set-param").split(":");if(_.length==1){var A=bk.view.logInfo[_[0]]||0;A++;}else{A=_[1];}bk.view.logInfo[_[0]]=A;});baidu.object.each(bk.view.logInfo,function(_,A){nslog.set(A,_);});nslog(location.href,11);baidu.page.loadJsFile("http://hm.baidu.com/h.js?55b574651fcae74b0a9f1cf9c8d7c93a");baidu.more.ns("bk.view");baidu.more.ns("bk.view.timer");baidu.more.ns("bk.view.sidecatalog");bk.view.sidecatalog.step=22;bk.view.sidecontentList=[];bk.view.sidesubitemList=[];bk.view.sidecatalog.vHeight=80;bk.view.sidecatalog.togglestatus=false;bk.view.sidecatalog.init=function(){if(baikeViewInfo.subLen<=1&&(!baidu.g("catalog-0"))){baidu.g("sidebar").style.visibility="hidden";nslog("sidebar",1025,{catalog:0});}else{bk.view.sidecatalog.contentbuild();baidu.on("side-catalog-up","mousedown",function(){clearInterval(bk.view.timer.ele_side_catalog_scroll);bk.view.timer.ele_side_catalog_scroll=setInterval(function(){bk.view.sidecatalog.contentScroll(3);},300);});baidu.on("side-catalog-up","mouseup",function(){clearInterval(bk.view.timer.ele_side_catalog_scroll);});baidu.on("side-catalog-up","click",function(){clearInterval(bk.view.timer.ele_side_catalog_scroll);bk.view.sidecatalog.contentScroll(3);});baidu.on("side-catalog-down","mousedown",function(){clearInterval(bk.view.timer.ele_side_catalog_scroll);bk.view.timer.ele_side_catalog_scroll=setInterval(function(){bk.view.sidecatalog.contentScroll(-3);},300);});baidu.on("side-catalog-down","click",function(){clearInterval(bk.view.timer.ele_side_catalog_scroll);bk.view.sidecatalog.contentScroll(-3);});baidu.on("side-catalog-down","mouseup",function(){clearInterval(bk.view.timer.ele_side_catalog_scroll);});baidu.on("side-catalog-up","mouseover",function(_){if(this.className!="disabled"){baidu.addClass(this,"hover");}});baidu.on("side-catalog-up","mouseout",function(_){baidu.removeClass(this,"hover");});baidu.on("side-catalog-down","mouseout",function(_){baidu.removeClass(this,"hover");});baidu.on("side-catalog-down","mouseover",function(_){if(this.className!="disabled"){baidu.addClass(this,"hover");}});nslog("sidebar",1025,{catalog:1});}};bk.view.sidecatalog.contentbuild=function(){var E=baikeViewInfo.subLen,A=baikeViewInfo.expIndex,B=baikeViewInfo.cataList;if(E>1){var G,_=0;for(G=0,l=B.length;G<l;G++){if(B[G].level==1){var C=B[G];bk.view.sidesubitemList.push(C);var D=(A==_++);if(D){B[G].exp=true;}C.children=[];var F;for(F=G+1;F<l&&(B[F].level>1);F++){B[F].display=D;C.children.push(B[F]);}if(C.children.length==1){l=l-C.children.length;baidu.each(C.children,function(_){baidu.array.remove(B,_);});C.children=[];}else{G=F-1;}}}}bk.view.sidecontentList=B;bk.view.sidecatalogDomInit();bk.view.sidecatalog.realListUpdate();bk.event.on("bk.event.SectionStatusChanged",bk.view.sidecatalog.subitemchanged);};bk.view.sidecatalogDomInit=function(){var E=document.createElement("div"),B=document.createElement("div"),I=document.createElement("div"),G=document.createElement("div"),A=document.createElement("div");B.id="side-title-list";E.id="side-title-panel";I.id="side-catalog-up";G.id="side-catalog-down";A.id="side-lemma-title";var C={"\u5206\u96c6\u5267\u60c5":"series","\u5267\u60c5\u7b80\u4ecb":"synopsis"},_=0;baidu.each(bk.view.sidecontentList,function(F,A){var D=document.createElement("h"+F.level),E=["<a href='#"+F.ele+"' class='nslog:1026'",C[F.title]?(" log-data-detail = '"+C[F.title]+"'"):""," title='",baidu.string.encodeHTML(F.title)];F.ele=document.getElementsByName(F.ele)[0];if(F.level==1){if(F.exp){D.className="expand";}E.push("' sub-index='"+(_++));}E.push("'>"+F.title.subByte(28)+"</a>");D.innerHTML=E.join("");B.appendChild(D);F.item=D;if(!F.display){baidu.hide(D);}D=null;});E.appendChild(B);var D=baidu.g("side-catalog-content");A.innerHTML=baikeViewInfo.title;I.innerHTML="<div></div>";G.innerHTML="<div></div>";D.appendChild(I);D.appendChild(A);D.appendChild(E);D.appendChild(G);var F=B.getElementsByTagName("a"),H;for(H=0,l=F.length;H<l;H++){baidu.on(F[H],"click",function(_){if(this.parentNode.tagName.toLowerCase()=="h1"){bk.view.subLemmaTitleStatusChange(baidu.dom.getAttr(this,"sub-index"),false);setTimeout(bk.view.sidecatalog.resize,200);}});}F=null;B=E=I=G=D=null;};bk.view.sidecatalog.realListUpdate=function(){bk.view.sidecatalog.realList=[];baidu.each(bk.view.sidecontentList,function(_){if(_.display){bk.view.sidecatalog.realList.push(_);}});};bk.view.sidecatalog.subitemchanged=function(C){var D=baikeViewInfo.expIndex,B=bk.view.sidesubitemList,A=B[C],_=B[D];if(D!=-1){baidu.removeClass(_.item,"expand");baidu.each(_.children,function(_){baidu.hide(_.item);_.display=false;});}if(A&&D!=C){baidu.addClass(A.item,"expand");baidu.each(A.children,function(_){baidu.show(_.item);_.display=true;});}bk.view.sidecatalog.realListUpdate();bk.view.sidecatalog.resize();};bk.view.sidecatalog.resize=function(A){var L=baidu.g("sidecatalog"),D=baidu.g("side-catalog-content"),F=baidu.g("main-wrap"),C=baidu.dom.getPosition(F),E=bk.view.sidecatalog.getTotalHeight(),B=baidu.page.getViewHeight(),G=baidu.page.getViewWidth(),H=Math.min(B-200,510);H=H-H%22;if(E>H){E=H;}if(E<92){E=92;}bk.view.sidecatalog.vHeight=E-70;var J=F.offsetWidth+C.left-30,I=B-150,K=B-E-60;tools.fixable(L,{top:I,left:J});tools.fixable(D,{overflow:"hidden",height:E,top:K,left:(typeof(padFlag)!=undefined&&padFlag&&G<800)?J-251:J+27});var _=baidu.g("side-title-panel");if(_){baidu.dom.setStyle(_,"height",E-70);}bk.view.sidecatalog.tofocus();};bk.view.sidecatalog.getTotalHeight=function(){var _=0;baidu.each(bk.view.sidecontentList,function(A){if(A.display){_++;}});return(_*bk.view.sidecatalog.step+70);};bk.view.sidecatalog.tofocus=function(){var B=bk.view.sidecatalog;if(B.togglestatus){var K=baidu.page.getScrollTop()+70,H=baidu.g("side-title-list");if(H){var G=B.vHeight,A=B.getTotalHeight()-70;if(G<=0||A==0){return;}var C,F=tool.dom.getTopPos;for(C=0,l=B.realList.length;C<l;C++){var E=B.realList[C];if(F(E.ele)<=K&&((C+1==l)||((C+1<l)&&F(B.realList[C+1].ele)>K))){var _=C*B.step,J=G/2;J=J-J%22;var I=Math.min(G-_-J,0),D="normal";if(I+A<=G){I=-A+G;D="bottom";}if(I==0){D=(D=="bottom")?"both":"top";}B.statuschange(D);baidu.dom.setStyle(H,"top",I);baidu.addClass(E.item,"on");}else{baidu.removeClass(E.item,"on");}}}}};bk.view.sidecatalog.checkToShow=function(){var E=baidu.page.getScrollTop(),A=baidu.page.getViewHeight(),C=baidu.q("b-ent-section"),D=C.length?(baidu.dom.getPosition(C[0]).top-50):800,_=Math.min(A*2,D),B=baidu.page.getHeight()-A-20;if(E<_){return false;}else{return true;}};bk.view.sidecatalog.contentScroll=function(A){var G=baidu.g("side-title-list"),C=A*bk.view.sidecatalog.step,F=bk.view.sidecatalog.vHeight,_=bk.view.sidecatalog.getTotalHeight()-70;if(F<=0){return;}var H=parseInt(G.style.top)||0,B=H+C,D="normal";if(B>=0){B=0;D="top";}if(B+_<=F){B=Math.min(-_+F,0);D=(D=="top")?"both":"bottom";}bk.view.sidecatalog.statuschange(D);B=B-B%bk.view.sidecatalog.step;var E=new FX(G,{top:{to:B}},0.3,"linear");E.start();};bk.view.sidecatalog.scrollto=function(_){if(bk.view.sidecontentList[_]){var A=tool.dom.getTopPos(bk.view.sidecontentList[_].ele)-10;window.scrollTo(0,A);}};bk.view.sidecatalog.statuschange=function(_){switch(_){case"top":baidu.g("side-catalog-up").className="disable";baidu.removeClass("side-catalog-down","disable");break;case"bottom":baidu.g("side-catalog-down").className="disable";baidu.removeClass("side-catalog-up","disable");break;case"normal":baidu.removeClass("side-catalog-up","disable");baidu.removeClass("side-catalog-down","disable");break;case"both":baidu.g("side-catalog-up").className="disable";baidu.g("side-catalog-down").className="disable";break;}};bk.view.sidecatalog.toggle=function(){var _=false;return function(){baidu[_?"hide":"show"]("side-catalog-content");baidu[_?"removeClass":"addClass"]("sidebar","show");_=!_;bk.view.sidecatalog.togglestatus=_;var B=bk.view.sidecatalog.tofocus;if(baidu.ie&&baidu.ie<7){B=bk.view.sidecatalog.delayfocus;}if(_){bk.view.sidecatalog.tofocus();baidu.on(window,"scroll",B);}else{try{baidu.un(window,"scroll",B);}catch(A){}}nslog("sidecatalog.toggle",1027,{status:_});};};bk.view.sidecatalog.delayfocus=function(){clearTimeout(bk.view.timer.scroll_catalogfocus);bk.view.timer.scroll_catalogfocus=setTimeout(bk.view.sidecatalog.tofocus,200);};bk.view.sidecatalog.scroll=function(_){var F=baidu.g("sidecatalog");clearTimeout(bk.view.timer.ele_side_catalog);if(!bk.view.sidecatalog.checkToShow()){baidu.hide(F);baidu.hide(baidu.g("side-catalog-content"));}else{if(typeof(padFlag)!=undefined&&padFlag){var B=baidu.g("side-catalog-content"),D=baidu.page.getViewHeight(),E=baidu.page.getScrollTop(),A=D-150,C=D-bk.view.sidecatalog.vHeight-130;baidu.hide(F);baidu.hide(B);F.style.position="absolute";B.style.position="absolute";F.style.top=A+E+"px";B.style.top=C+E+"px";}baidu.show(F);if(bk.view.sidecatalog.togglestatus){baidu.show("side-catalog-content");}}};baidu.dom.ready(function(){bk.view.sidecatalog.init();bk.view.sidecatalog.resize();bk.view.sidecatalog.scroll();baidu.on(window,"scroll",bk.view.sidecatalog.scroll);baidu.on("sidebar","click",bk.view.sidecatalog.toggle());baidu.on(window,"resize",bk.view.sidecatalog.resize);});var Detect={detecting:function(){handle_doDetect();},url:"",id:"",subId:"",uptime:"",upnum:"",upst:"",content:"",latestid:""};function formatDetect(_){var A=Fe.Dialog.open("/page/detect.html",_);return A;}Detect.callback=function(_,B){if(_.toAuditDivideVersionNum!=0){Detect.content="\u62b1\u6b49\uff0c\u8be5\u8bcd\u6761\u5f53\u524d\u5b58\u5728\u5f85\u901a\u8fc7\u7248\u672c\uff0c\u8bf7\u7a0d\u540e\u518d\u8fdb\u884c\u64cd\u4f5c\u3002";var A=formatDetect({title:"\u7f16\u8f91\u63d0\u793a",width:"388px",height:"190px",buttonbar:true,buttonAccept:false,buttonCancel:true,contentType:"HTMLUrl",locked:true,buttonCancelValue:"\u8fd4\u56de"});}else{if(_.conflictVersionNum>=_.conflictLimit){if(_.conflictLimit){var C;if(baidu.G("BkLogUser")){C="func=editdeny&username="+baidu.G("BkLogUser").innerHTML+"&lid="+baikeViewInfo.id;}else{C="func=editdeny&lid="+baikeViewInfo.id;}nslog.stat(C);Detect.content="\u5f88\u62b1\u6b49\uff0c\u8be5\u8bcd\u6761\u5df2\u6709\u591a\u4e2a\u7248\u672c\u6b63\u5728\u63d0\u4ea4\u4e2d\uff0c\u60a8\u5f53\u524d\u65e0\u6cd5\u7f16<br>\u8f91\u8be5\u8bcd\u6761\uff1a\uff08<br><br>\u767e\u79d1\u5efa\u8bae\u60a8\u665a\u4e9b\u65f6\u5019\u518d\u5c1d\u8bd5\u7f16\u8f91\u8be5\u8bcd\u6761\uff0c\u6216\u5c1d\u8bd5\u7f16\u8f91\u5176\u4ed6<br>\u8bcd\u6761\u3002";A=formatDetect({title:"\u7f16\u8f91\u63d0\u793a",width:"388px",height:"190px",buttonbar:true,buttonAccept:false,buttonCancel:true,contentType:"HTMLUrl",locked:true,buttonCancelValue:"\u8fd4\u56de"});}else{if(_.isMidNight==1){Detect.content='\u60a8\u5f53\u524d\u7684\u7f16\u8f91\u65f6\u95f4\u5c5e\u767e\u79d1<a href="http://www.baidu.com/search/baike_help.html'+'#&#20160;&#20040;&#26159;&#22812;&#38388;&#32534;&#36753;&#25552;&#31034;" target="_blank">'+"\u7279\u6b8a\u7f16\u8f91\u65f6\u6bb5</a>\u3002<br><br>\u4e3a\u4fdd\u8bc1\u60a8\u7684\u7f16\u8f91\u6210\u679c\u5728\u63d0\u4ea4\u540e\u7684\u6700\u77ed\u65f6\u95f4\u5185\u751f\u6548\uff0c\u767e\u79d1\u5efa<br>\u8bae\u60a8\u9009\u62e9\u5176\u4ed6\u65f6\u95f4\u8fdb\u884c\u7f16\u8f91\uff1a\uff09"+"<br><br>\u4ecd\u7136\u8981\u7ee7\u7eed\u7f16\u8f91\u5417\uff1f";A=formatDetect({title:"\u7f16\u8f91\u63d0\u793a",width:"388px",height:"190px",buttonbar:true,buttonAccept:true,buttonCancel:true,contentType:"HTMLUrl",locked:true});A.onaccept=function(){if(!B){window.location=Detect.url;}else{B();}};}else{if(!B){window.location=Detect.url;}else{B();}}}}else{if((_.conflictDegree==1)||(_.conflictDegree==2)){Detect.content="\u8be5\u8bcd\u6761\u5f53\u524d\u5df2\u6709\u5176\u4ed6\u7248\u672c\u6b63\u5728\u7b49\u5f85\u901a\u8fc7\u3002<br><br>\u4e3a\u4e86\u4fdd\u969c\u60a8\u7684\u7f16\u8f91\u80fd\u5f97\u5230\u53ca\u65f6\u901a\u8fc7\uff0c\u5efa\u8bae\u60a8\u7a0d\u540e\u518d\u7f16\u8f91<br>\u672c\u8bcd\u6761\uff1a\uff09"+"<br><br>\u4ecd\u7136\u8981\u7ee7\u7eed\u5417\uff1f";A=formatDetect({title:"\u7f16\u8f91\u63d0\u793a",width:"388px",height:"190px",buttonbar:true,buttonAccept:true,buttonCancel:true,contentType:"HTMLUrl",locked:true});A.onaccept=function(){if(!B){window.location=Detect.url;}else{B();}};}else{if(_.isMidNight==1){Detect.content='\u60a8\u5f53\u524d\u7684\u7f16\u8f91\u65f6\u95f4\u5c5e\u767e\u79d1<a href="http://www.baidu.com/search/baike_help.html'+'#&#20160;&#20040;&#26159;&#22812;&#38388;&#32534;&#36753;&#25552;&#31034;" target="_blank">'+"\u7279\u6b8a\u7f16\u8f91\u65f6\u6bb5</a>\u3002<br><br>\u4e3a\u4fdd\u8bc1\u60a8\u7684\u7f16\u8f91\u6210\u679c\u5728\u63d0\u4ea4\u540e\u7684\u6700\u77ed\u65f6\u95f4\u5185\u751f\u6548\uff0c\u767e\u79d1\u5efa<br>\u8bae\u60a8\u9009\u62e9\u5176\u4ed6\u65f6\u95f4\u8fdb\u884c\u7f16\u8f91\uff1a\uff09"+"<br><br>\u4ecd\u7136\u8981\u7ee7\u7eed\u7f16\u8f91\u5417\uff1f";A=formatDetect({title:"\u7f16\u8f91\u63d0\u793a",width:"388px",height:"190px",buttonbar:true,buttonAccept:true,buttonCancel:true,contentType:"HTMLUrl",locked:true});A.onaccept=function(){if(!B){window.location=Detect.url;}else{B();}};}else{if(!B){window.location=Detect.url;}else{B();}}}}}};Detect.doDetect=function(fn){var _str="tp=0&r="+Math.random()+"&lemmaid="+Detect.id+"&lemmaVersionId=0",_url="/getConflictInfo/?"+_str;baidu.ajax.get(_url,function(xhr){Detect.callback(eval("("+xhr.responseText+")"),fn);});};function formatDetect_privcheck(_){var A=Fe.Dialog.open("/page/privcheck.html",_);return A;}function handle_doDetect(){baidu.sio.callByBrowser("/static/common/js/common/Dialog.js?t=20120319144444",function(){var _="/api/editcheck?lemmaId="+baikeViewInfo.id+(Detect.subId?("&subLemmaId="+Detect.subId):"")+"&flag=1";baidu.ajax.get(_,function(A,_){_=baidu.json.parse(_);if(typeof(_)=="object"){Detect.content="<center></center><p>"+baikeViewInfo.title+"\u5df2\u4e3a"+_.stdWord+"\u7684\u6765\u6e90\u8bcd\uff0c\u65e0\u6cd5\u7ee7\u7eed\u8fdb\u884c\u7f16\u8f91\uff0c\u70b9\u51fb\u201c\u786e\u5b9a\u201d\uff0c\u60a8\u53ef\u521b\u5efa\u6807\u51c6\u8bcd"+_.stdWord+"\u3002</p>";var B=formatDetect_privcheck({title:"\u7f16\u8f91\u63d0\u793a",width:"402px",height:"220px",buttonbar:true,buttonAccept:true,buttonCancel:false,contentType:"HTMLUrl",locked:true});B.onaccept=function(){window.open("/search_noitem/?create=0&word="+_.stdWord);};}else{if(_=="12"){Detect.content="<center><h2>\u5bf9\u4e0d\u8d77\uff0c\u60a8\u6682\u65f6\u6ca1\u6709\u6743\u9650\u7f16\u8f91\u8be5\u8bcd\u6761\u3002</h2></center><p>\u60a8\u597d\uff0c\u8be5\u8bcd\u6761\u5185\u5bb9\u5df2\u8f83\u4e30\u5bcc\uff0c\u73b0\u4ec5\u5bf9\u767e\u79d1\u7b49\u7ea7\u8fbe\u5230<b>\u56db\u7ea7</b>\uff0c"+"\u4e14\u901a\u8fc7\u7387\u8fbe\u5230<b>85%</b>\u7684\u79d1\u53cb\u5f00\u653e\u7f16\u8f91\u3002</p><p>\u5f53\u60a8\u901a\u8fc7\u52aa\u529b\u8fbe\u5230\u4ee5\u4e0a\u8981\u6c42\uff0c\u5c31\u53ef\u4ee5\u53c2\u4e0e\u7f16\u8f91\u8be5\u8bcd\u6761\u4e86\u3002</p>"+'<p>\u5982\u679c\u60a8\u8ba4\u4e3a\u8be5\u8bcd\u6761\u8fd8\u9700\u8fdb\u4e00\u6b65\u5b8c\u5584\uff0c\u53ef\u4ee5\u5230<a href="http://tousu.baidu.com/baike/add" target="_blank">'+'\u6295\u8bc9\u4e2d\u5fc3</a>\u53cd\u9988\u3002</p><p><img src="http://img.baidu.com/img/baike/usercenter/growuptask/star.gif" '+'class="star" />\u53c2\u52a0<a target="_blank" href="/uc/task" onclick="nslog(this.href, 449)">\u6210\u957f\u4efb\u52a1</a>\uff0c'+"\u66f4\u5feb\u638c\u63e1\u767e\u79d1\u7f16\u8f91\u6280\u5de7\uff0c\u52a0\u901f\u5347\u7ea7\uff01</p>";B=formatDetect_privcheck({title:"\u7f16\u8f91\u63d0\u793a",width:"402px",height:"220px",buttonbar:true,buttonAccept:true,buttonCancel:false,contentType:"HTMLUrl",locked:true});}else{Detect.doDetect();}}});});}baidu.more.ns("bk.view");bk.view.showEditLinks=function(){function _(D){var B=baidu.dom.getAttr(D,"data-edit-id");if(B){var _=B,A=0,C=0;B=B.split(":");if(B.length>1){_=B[0];A=B[1];C=B[2];}D.innerHTML=["<a href='#' class='nslog:1019' onclick='bk.view.editLemma(\"/edit/\",",_,",",A,",",C,");return false'>\u7f16\u8f91\u672c\u6bb5</a>"].join("");baidu.on(D,"click",function(){nslog&&nslog(location.href,1805);});}}baidu.each(baidu.q("editable-title"),_);};bk.view.showEditText=function(){var A=baidu.g("sublemma-edit"),_=baidu.g("lock-edit");if(A){A.innerHTML='<em class="sprite"></em>\u8bf7\u6309\u4e49\u9879\u8fdb\u884c\u7f16\u8f91';}if(_){_.innerHTML='<a href="http://www.baidu.com/search/baike_help.html#\u9501\u5b9a\u8bcd\u6761" target="_blank">\u8bcd\u6761\u5df2\u9501\u5b9a</a>';}};bk.view.showThrowBtlLinks=function(){function _(E){var B=baidu.dom.getAttr(E,"data-edit-id"),D=baidu.dom.getAttr(E,"type");if(B){var A=0,_="";B=B.split("$$");if(B.length>1){A=B[0];_=B[1];}var C=B[2]||"";if(D==="lemmaMulit"){E.innerHTML=['<a subLemmaId="',A,'" oriLemmaId="',C,'" subLemmaTitle="',_,'" class="throwbtl-link-head throwbtl-link-view lemma-top-link edit-section-throwbtl-link" href="#" onclick="if(!window.curUser){nslog(location.href,3721,{fr:8});}userlogin();return false;">\u6c42\u52a9\u7f16\u8f91</a>'].join("");}else{E.innerHTML=['<a subLemmaId="',A,'" oriLemmaId="',C,'" subLemmaTitle="',_,'" isViewCard="1" class="throwbtl-link-view" href="#" '+'onclick="if(!window.curUser){nslog(location.href,3721,{fr:8});}userlogin();return false;">\u6c42\u52a9\u7f16\u8f91</a>'].join("");}}else{E.innerHTML='<a href="#" onclick="if(!window.curUser){nslog(location.href,3721,{fr:8});}userlogin();return false;" '+' class="throwbtl-link-head lemma-top-link throwbtl-link-view" '+' hidefocus="true">\u6c42\u52a9\u7f16\u8f91</a>';}}baidu.each(baidu.q("throwbtl-link-span"),_);};bk.view.showEditButton=function(){baidu.each(baidu.q("editable-lemma","content","span"),function(A){var _=baidu.dom.getAttr(A,"data-edit-id");if(_){baidu.on(A,"mouseover",function(){baidu.dom.addClass(this,"onhover");});baidu.on(A,"mouseout",function(){baidu.dom.removeClass(this,"onhover");});baidu.on(A,"click",function(){bk.view.editLemma("/edit/",_);nslog("edit",1020);nslog(location.href,1804);});}});};bk.view.initDivideButton=function(){if(baidu.g("subSet")){baidu.on("subSet","click",function(A){var _=baidu.dom.getAttr("subSet","data-edit-id"),B=baidu.dom.getAttr("subSet","href");bk.view.dividLemma(B,_,B.indexOf("polysemysetsub")!=-1?bk.view.setLemmaSub:false);baidu.event.preventDefault(A);});}};bk.view.showSubLemmaEditLink=function(){baidu.each(baidu.q("b-ent-section-action-edit","content","a"),function(C){var B=baidu.dom.getAttr(C,"data-edit-id");if(B){var _=B.split(":")[0],A=B.split(":")[1];baidu.on(C,"click",function(B){bk.view.editLemma("/edit/",_,A);nslog("edit",1020);nslog(location.href,1804);baidu.event.stop(B);});C.innerHTML='<span class="med-slv-bdr"><em class="sprite"></em>\u7f16\u8f91\u672c\u4e49\u9879</span>';}});};bk.view.showSetLemmaSubLink=function(){var _="hook-polysemy-set-sub";baidu.each(baidu.q(_,"content","a"),function(C){var B=baidu.dom.getAttr(C,"data-"+_);B=baidu.json.parse(B);if(B){var A=B.lemmaId;baidu.on(C,"click",function(_){userlogin.check(function(){bk.view.setLemmaSub(B);},false,"polysemysetsub");baidu.event.preventDefault(_);});}});};bk.view.showAddLemmaSubLink=function(){var _="hook-polysemy-add-sub";baidu.each(baidu.q(_,"content","a"),function(C){var B=baidu.dom.getAttr(C,"data-"+_);B=baidu.json.parse(B);if(B){var A=B.lemmaId;baidu.on(C,"click",function(_){Detect.url="/createpolysemyitem?lemmaid="+A;Detect.id=A;var B="polysemysetsub";userlogin.check(Detect.detecting,false,B);baidu.event.preventDefault(_);});}});};baidu.dom.ready(function(){if(baikeViewInfo.editable!="false"){bk.view.showEditLinks();bk.view.showEditButton();bk.view.showSubLemmaEditLink();bk.view.showAddLemmaSubLink();bk.view.showSetLemmaSubLink();bk.view.initDivideButton();}bk.view.showEditText();bk.view.showThrowBtlLinks();if(baidu.q("try-edit")[0]){baidu.on(baidu.q("try-edit")[0],"click",function(){nslog&&nslog(location.href,1806);});}});bk.view.editRelated=function(){var _="/api/editcheck?lemmaId="+baikeViewInfo.id;baidu.ajax.get(_,function(A,_){if(_=="12"){Detect.content="<center><h2>\u5bf9\u4e0d\u8d77\uff0c\u60a8\u6682\u65f6\u6ca1\u6709\u6743\u9650\u7f16\u8f91\u8be5\u8bcd\u6761\u3002</h2></center><p>\u60a8\u597d\uff0c\u8be5\u8bcd\u6761\u5185\u5bb9\u5df2\u8f83\u4e30\u5bcc\uff0c\u73b0\u4ec5\u5bf9\u767e\u79d1\u7b49\u7ea7\u8fbe\u5230"+"<b>\u56db\u7ea7</b>\uff0c\u4e14\u901a\u8fc7\u7387\u8fbe\u5230<b>85%</b>\u7684\u79d1\u53cb\u5f00\u653e\u7f16\u8f91\u3002</p><p>\u5f53\u60a8\u901a\u8fc7\u52aa\u529b\u8fbe\u5230\u4ee5\u4e0a\u8981\u6c42\uff0c\u5c31\u53ef\u4ee5\u53c2\u4e0e\u7f16\u8f91\u8be5\u8bcd\u6761\u4e86\u3002</p>"+'<p>\u5982\u679c\u60a8\u8ba4\u4e3a\u8be5\u8bcd\u6761\u8fd8\u9700\u8fdb\u4e00\u6b65\u5b8c\u5584\uff0c\u53ef\u4ee5\u5230<a href="http://tousu.baidu.com/baike/add" target="_blank">\u6295\u8bc9\u4e2d\u5fc3</a>'+'\u53cd\u9988\u3002</p><p><img src="http://img.baidu.com/img/baike/usercenter/growuptask/star.gif" class="star" />\u53c2\u52a0'+'<a target="_blank" href="/uc/task" onclick="nslog(this.href, 449)">\u6210\u957f\u4efb\u52a1</a>\uff0c\u66f4\u5feb\u638c\u63e1\u767e\u79d1\u7f16\u8f91\u6280\u5de7\uff0c\u52a0\u901f\u5347\u7ea7\uff01</p>';var C=formatDetect_privcheck({title:"\u7f16\u8f91\u63d0\u793a",width:"402px",height:"220px",buttonbar:true,buttonAccept:true,buttonCancel:false,contentType:"HTMLUrl",locked:true});}else{var B="/relatedlemma/edit/?act=1&lemmaId="+baikeViewInfo.id+"&title="+G("titleVal").value;g_pop=bk.Dialog.iframe(B,{titleText:"\u5b8c\u5584\u76f8\u5173\u8bcd\u6761",contentType:1,isReloadOnClose:false,width:536,height:510});}});};bk.view.setLemmaSub=function(){var _="/polysemysetsub/id="+Detect.id;g_pop=bk.Dialog.iframe(_,{titleText:"\u4e49\u9879\u8bbe\u7f6e",contentType:1,isReloadOnClose:false,width:536,height:420});};bk.view.editLemma=function(C,A,F,E){Detect.url=C+"id="+A+(F?"&subLemmaId="+F:"")+(E?"&dl="+E:"");if(location.href.indexOf("fr=")!=-1){var D=location.search.split("&"),_="";baidu.each(D,function(A,B){if(A.indexOf("fr=")!=-1){_=A;}});Detect.url+="&"+_;}Detect.id=A;Detect.subId=F;var B=(E?"part_edit":"edit");if(!window.curUser){nslog(location.href,3721,{fr:2});}userlogin.check(Detect.detecting,false,B);};editLemmaPara=bk.view.editLemma;bk.view.dividLemma=function(A,_,B){Detect.url=A;Detect.id=_;userlogin.check(function(){baidu.sio.callByBrowser("/static/common/js/common/Dialog.js?t=20120319144444",function(){Detect.doDetect(B);});},false,A);};baidu.more.ns("lemma");baidu.more.ns("bk.view");bk.view.vote=function(){var _="/view/getLemmaCountAsc/lemmaid="+baikeViewInfo.id+"&random="+Math.random();baidu.sio.callByBrowser(_);};function setVoteData(_){if(_.err==0){baidu.G("vote_num").innerHTML=_.count;baidu.G("vote_txt").innerHTML="\u60a8\u5df2\u8bc4\u4ef7\uff0c\u8c22\u8c22\uff01";}}function getVoteData(_){if(_){baidu.G("vote_num").innerHTML=_.count;}}function gotoRef(_,D){if(!_){return false;}var E=D>=0?("_"+D):"",C=_.innerHTML.replace(/\[/g,"").replace(/\]/g,"");C=parseInt(C);if(C>=0){var A=baidu.G("refIndex_"+C+E);if(A&&A.parentNode){var B=parseInt(baidu.dom.getPosition(A.parentNode).top);if(B>0){window.scrollTo(0,B);}}}}bk.view.showMoreRelated=function(){var A=baidu.G("word_more"),_=baidu.G("word_more_con");if(_.style.display=="none"){A.className="word_more2";_.style.display="";_.title="\u6536\u8d77";}else{A.className="word_more1";_.style.display="none";_.title="\u5c55\u5f00";}};bk.view.coEditorInit=function(){var A=baidu.G("co-editors");if(!A){return;}if(A.offsetHeight>25){baidu.show("more-coeditor");var _=A.getElementsByTagName("span");while(A.offsetHeight>25&&_.length>0){A.removeChild(_[_.length-1]);}}};bk.view.relatedInit=function(){var A=baidu.G("word_more");if(!A){return false;}var G=baidu.G("word_more_con").getElementsByTagName("a"),I=baidu.dom.children("onelinediv"),_=baidu.G("onelinediv"),C=G.length,D=_.offsetWidth-60,H,F=0;function E(A,_){A.appendChild(_);if(A.offsetWidth>D){A.removeChild(_);A.style.display="block";return false;}return true;}for(H=0;H<C;H++){var B=G[H].cloneNode(true);if(!E(I[F],B)){F++;H--;if(F>=3){A.style.visibility="visible";baidu.on(A,"mouseover",function(){baidu.addClass(this.childNodes[0],"hover");});baidu.on(A,"mouseout",function(){baidu.removeClass(this.childNodes[0],"hover");});_.style.visibility="visible";return;}}}_.style.visibility="visible";};bk.view.getDays=function(D){if(!D){return"";}var B=D.match(/(\d{2,4})-(\d{1,2})-(\d{1,2})/);B[2]=parseInt(B[2],10)-1;var A=new Date(B[1],B[2],B[3]),_=new Date(),C=new Date(_.getFullYear(),_.getMonth(),_.getDate()-1),E=parseInt((A-C)/(1000*3600*24));switch(E){case 1:return"\u4eca\u5929";case 0:return"\u6628\u5929";case-1:return"2\u5929\u524d";case-2:return"3\u5929\u524d";}return D;};function ctrlBKDynamic(){if(typeof bkDynamic!="undefined"){var _=bkDynamic[0];baidu.G("profileTitle").innerHTML=_;if(!!bkDynamic[1][0]){baidu.G("task").innerHTML='<dl><dt class="sidetitle2">'+bkDynamic[1][0]+'\uff1a<a href="'+bkDynamic[1][1][1]+'" target="_blank">'+bkDynamic[1][1][0]+'</a></dt> <dd><a href="'+bkDynamic[1][1][1]+'" target="_blank"><img src="'+bkDynamic[1][1][2]+'" width="160" height="81"></a></dd></dl>';baidu.show("task");}if(!!bkDynamic[2][0]){baidu.G("notice").innerHTML='<dl><dt class="sidetitle2">'+bkDynamic[2][0]+"\uff1a</dt>"+bkDynamic[2][1]+"</dl>";baidu.show("task");}baidu.show("bkDynamic");baidu.each(baidu.G("bkDynamic").getElementsByTagName("a"),function(A,_){baidu.on(A,"click",function(){nslog(this.href,235,{index:_});});});}}bk.view.getDynamicData=function(){baidu.sio.callByBrowser("/template/baikeDynamicData.js?random="+Math.random());};bk.view.reflow=function(){baidu.g("content").style.zoom=1.01;baidu.g("content").style.zoom=1;};bk.view.copylog=bk.view.copylog||function(){};bk.view.copylog.isDbClick=false;bk.view.copylog.sendSelectInfo=function(){var _=arguments[0],A=arguments[1];if(((baidu.ie&&_==1&&!bk.view.copylog.isDbClick)||(_==0&&!bk.view.copylog.isDbClick))||A){var B;if(window.getSelection){B=window.getSelection();}else{if(document.getSelection){B=document.getSelection();}else{if(document.selection){B=document.selection.createRange().text;}}}}bk.view.copylog.isDbClick=false;};baidu.dom.ready(function(){baidu.on("content","mouseup",function(_){var A=_.button;setTimeout(function(){bk.view.copylog.sendSelectInfo(A,false);},20);});baidu.on("content","copy",function(_){var A=_.button;setTimeout(function(){bk.view.copylog.sendSelectInfo(A,true);},20);});baidu.event.on("content","dblclick",function(_){bk.view.copylog.isDbClick=true;});});baidu.dom.ready(function(){baidu.array.each(baidu.q("contri-expand","pro-contributors"),function(_){baidu.on(_,"click",function(B){baidu.event.stop(B);var A=baidu.dom.getText(_);if(A=="\u5c55\u5f00"){bk.view.showLemma(baidu.dom.getAttr(_,"userName"),_);}else{bk.view.hideLemma(baidu.dom.getAttr(_,"userName"),_);}});});var _=baidu.g("contri-more");if(_){baidu.on(_,"click",function(_){baidu.event.stop(_);bk.view.showMoreContri();});}});bk.view.showLemma=function(A,_){baidu.array.each(baidu.q(A,"pro-contributors"),function(E,B){if(B==0){var D='<img class="contri-hide" src="http://img.baidu.com/img/baike/contri_hide.gif" userName="{userName}" '+'style="cursor:pointer;"/>'.replace("{userName}",A);baidu.dom.query("td span",baidu.g(E))[0].innerHTML=D;baidu.on(baidu.dom.query("td span img",baidu.g(E))[0],"click",function(){bk.view.hideLemma(A,_);});}try{baidu.dom.show(E);}catch(C){}});_.innerHTML="\u6536\u8d77";nslog(window.location.href,1029);};bk.view.hideLemma=function(A,_){baidu.array.each(baidu.q(A,"pro-contributors"),function(A){try{baidu.dom.hide(A);}catch(_){}});_.innerHTML="\u5c55\u5f00";};bk.view.showMoreContri=function(limitRow){var limit=limitRow||20;baidu.ajax.get("/api/lemmaGrow?lemmaId="+baikeViewInfo.id+"&limit=20&callback= ",function(req){if(baidu.g("tr-contri-more")){baidu.dom.remove("tr-contri-more");}var json=eval("("+req.responseText+")"),dom=[];dom.push(' <table width="235px;" border="0" cellspacing="0" cellpadding="0" class="topuser f12">');var lemmaData=json.lemmaGrow.data,showGd=false,showComplex=false,index;for(index=0;index<lemmaData.length;index++){var showIcon=true;if(index>=limit){break;}var lemma=lemmaData[index],userName;if((lemma.gd&&lemma.gd.length>0)||(lemma.hq&&lemma.hq.length>0)||(lemma.imgos&&lemma.imgos.length>0)||(lemma.hperfect&&lemma.hperfect.length>0)){if(!showGd){dom.push("<tr><td colspan='4'><strong>\u7a81\u51fa\u8d21\u732e\u8005\uff1a</strong><img align='absmiddle' src='http://img.baidu.com/img/baike/blank.gif'"+" class='what' title='\u8d21\u732e\u4f18\u8d28\u3001\u9ad8\u8d28\u91cf\u7248\u672c\uff0c\u88ab\u79f0\u4e3a\u7a81\u51fa\u8d21\u732e\u8005'/></td></tr>");showGd=true;}}else{if(lemma.complex.length>0&&!showComplex){dom.push("<tr><td colspan='4'><strong>\u8f9b\u52e4\u8d21\u732e\u8005\uff1a</strong><img align='absmiddle' src='http://img.baidu.com/img/baike/blank.gif'"+" class='what' title='\u8d21\u732e\u590d\u6742\u7248\u672c\uff0c\u88ab\u79f0\u4e3a\u8f9b\u52e4\u8d21\u732e\u8005'/></td></tr>");showComplex=true;}}dom.push("<tr><td width='18px'>");if(lemma.user.odpFlag=="2"){var str='<a target="_blank" href="http://baike.baidu.com/cms/s/kdt/index.html" align="absmiddle" title="\u767e\u79d1\u874c\u86aa\u56e2" class="odp odp'+ +lemma.user.odpLevel+'"></a>';dom.push(str);}dom.push("</td>");userName=lemma.user.userName;dom.push('<th width="100"><a class="usercard" username="{lemma.user.userName}" href="http://passport.baidu.com/?'+"business&aid=7&default_tab=2&un="+lemma.user.userName+'#3" target="_blank" title="\u67e5\u770b\u6b64\u7528\u6237\u8d44\u6599">{lemma.user.userName}</a></th>'.replace(/\{lemma.user.userName\}/g,lemma.user.userName));dom.push('<td width="60" align="right"><a href="http://www.baidu.com/search/baike_help.html#&#30334;&#31185;&#31215;'+'&#20998;&#20307;&#31995;" target="_blank"><img style="width: 60px;" src="http://img.baidu.com/img/baike/blank.gif" '+'class="usertitle level{level}" align="absmiddle"/></a></td>'.replace("{level}",lemma.user.level));dom.push('<td align="right" width="74">');if(lemma.verIcon){dom.push('<a target="_blank" href="{lemma.verIcon.href}"><img align="absmiddle" title="{lemma.verIcon.name}" src="{lemma.verIcon.src}"/></a>'.replace("{lemma.verIcon.href}",lemma.verIcon.href).replace("{lemma.verIcon.name}",lemma.verIcon.name).replace("{lemma.verIcon.src}",lemma.verIcon.src));}if(lemma.imgIcon){dom.push('<a target="_blank" href="{lemma.imgIcon.href}"><img align="absmiddle" title="{lemma.imgIcon.name}" src="{lemma.imgIcon.src}"/></a>'.replace("{lemma.imgIcon.href}",lemma.imgIcon.href).replace("{lemma.imgIcon.name}",lemma.imgIcon.name).replace("{lemma.imgIcon.src}",lemma.imgIcon.src));}var len=parseInt(lemma.gd?lemma.gd.length:0)+parseInt(lemma.hq?lemma.hq.length:0)+parseInt(lemma.imgos?lemma.imgos.length:0)+parseInt(lemma.hperfect?lemma.hperfect.length:0)+parseInt(lemma.complex?lemma.complex.length:0);if(len>1){dom.push('&nbsp;&nbsp;<span userName="{lemma.userId}" class="contri-expand">\u5c55\u5f00</span></td></tr>'.replace("{lemma.userId}",lemma.userId));}else{if(lemma.verIcon){dom.push('&nbsp;&nbsp;<a target="_blank" class="contri-a nslog:1040" href="/history/id={id}">\u7248\u672c</a></tr>'.replace("{id}",lemma.verIcon.id));}else{if(lemma.imgIcon){dom.push('&nbsp;&nbsp;<a target="_blank" class="contri-a nslog:1040" href="/history/id={id}">\u7248\u672c</a></tr>'.replace("{id}",lemma.imgIcon.id));}}}if(len>1&&lemma.hperfect&&parseInt(lemma.hperfect.length)>0){baidu.array.each(lemma.hperfect,function(A,B){dom.push('<tr class="{userName} contri-more-tr" style="display: none">'.replace("{userName}",lemma.userId));dom.push('<td colspan="4">');dom.push('<a target="_blank" href="{lemma.hpIcon.href}"><img align="absmiddle" title="{lemma.hpIcon.name}" src="{lemma.hpIcon.src}"/></a>'.replace("{lemma.hpIcon.href}",lemma.hpIcon.href).replace("{lemma.hpIcon.name}",lemma.hpIcon.name).replace("{lemma.hpIcon.src}",lemma.hpIcon.src));dom.push('&nbsp;<a target="_blank" href="/history/id={id}" class="contri-a nslog:1040">\u7248\u672c</a>'.replace("{id}",A[0]));if(B==0){showIcon=false;var _='<img align="absmiddle" class="contri-hide"  src="http://img.baidu.com/img/baike/contri_hide.gif" userName="{userName}" style="cursor:pointer;"/>'.replace("{userName}",userName);dom.push('<span class="contri-span">');dom.push(_);dom.push("</span></td></tr>");}else{dom.push('<span class="contri-span"></span></td></tr>');}});}if(len>1&&lemma.gd&&parseInt(lemma.gd.length)>0){baidu.array.each(lemma.gd,function(A,B){dom.push('<tr class="{userName} contri-more-tr" style="display: none">'.replace("{userName}",lemma.userId));dom.push('<td colspan="4">');dom.push('<a target="_blank" href="{lemma.gdIcon.href}"><img align="absmiddle" title="{lemma.gdIcon.name}" src="{lemma.gdIcon.src}"/></a>'.replace("{lemma.gdIcon.href}",lemma.gdIcon.href).replace("{lemma.gdIcon.name}",lemma.gdIcon.name).replace("{lemma.gdIcon.src}",lemma.gdIcon.src));dom.push('&nbsp;<a target="_blank" href="/history/id={id}" class="contri-a nslog:1040">\u7248\u672c</a>'.replace("{id}",A[0]));if(B==0){showIcon=false;var _='<img align="absmiddle" class="contri-hide"  src="http://img.baidu.com/img/baike/contri_hide.gif" userName="{userName}" style="cursor:pointer;"/>'.replace("{userName}",userName);dom.push('<span class="contri-span">');dom.push(_);dom.push("</span></td></tr>");}else{dom.push('<span class="contri-span"></span></td></tr>');}});}if(len>1&&lemma.imgos&&parseInt(lemma.imgos.length)>0){baidu.array.each(lemma.imgos,function(A,B){dom.push('<tr class="{userName} contri-more-tr" style="display: none">'.replace("{userName}",lemma.userId));dom.push('<td colspan="4">');dom.push('<a target="_blank" href="{lemma.imgIcon.href}"><img align="absmiddle" title="{lemma.imgIcon.name}" src="{lemma.imgIcon.src}"/></a>'.replace("{lemma.imgIcon.href}",lemma.imgIcon.href).replace("{lemma.imgIcon.name}",lemma.imgIcon.name).replace("{lemma.imgIcon.src}",lemma.imgIcon.src));dom.push('&nbsp;<a target="_blank" href="/history/id={id}" class="contri-a nslog:1040">\u7248\u672c</a>'.replace("{id}",A[0]));if(B==0){showIcon=false;var _='<img align="absmiddle" class="contri-hide"  src="http://img.baidu.com/img/baike/contri_hide.gif" userName="{userName}" style="cursor:pointer;"/>'.replace("{userName}",userName);dom.push('<span class="contri-span">');dom.push(_);dom.push("</span></td></tr>");}else{dom.push('<span class="contri-span"></span></td></tr>');}});}if(len>1&&lemma.hq&&parseInt(lemma.hq.length)>0){baidu.array.each(lemma.hq,function(_,B){dom.push('<tr class="{userName} contri-more-tr" style="display: none">'.replace("{userName}",lemma.userId));dom.push('<td colspan="4">');dom.push('<a target="_blank" href="{lemma.hqIcon.href}"><img align="absmiddle" title="{lemma.hqIcon.name}" src="{lemma.hqIcon.src}"/></a>'.replace("{lemma.hqIcon.href}",lemma.hqIcon.href).replace("{lemma.hqIcon.name}",lemma.hqIcon.name).replace("{lemma.hqIcon.src}",lemma.hqIcon.src));dom.push('&nbsp;<a target="_blank" href="/history/id={id}" class="contri-a nslog:1040">\u7248\u672c</a>'.replace("{id}",_[0]));if(showIcon&&B==0){var A='<img align="absmiddle" class="contri-hide"  src="http://img.baidu.com/img/baike/contri_hide.gif" userName="{userName}" style="cursor:pointer;"/>'.replace("{userName}",userName);dom.push('<span class="contri-span">');dom.push(A);dom.push("</span></td></tr>");}else{dom.push('<span class="contri-span"></span></td></tr>');}});}if(len>1&&lemma.complex&&parseInt(lemma.complex.length)>0){baidu.array.each(lemma.complex,function(_,B){dom.push('<tr class="{userName} contri-more-tr" style="display: none">'.replace("{userName}",lemma.userId));dom.push('<td colspan="4">');dom.push('<a target="_blank" href="{lemma.complexIcon.href}"><img align="absmiddle" title="{lemma.complexIcon.name}" src="{lemma.complexIcon.src}"/></a>'.replace("{lemma.complexIcon.href}",lemma.complexIcon.href).replace("{lemma.complexIcon.name}",lemma.complexIcon.name).replace("{lemma.complexIcon.src}",lemma.complexIcon.src));dom.push('&nbsp;<a target="_blank" href="/history/id={id}" class="contri-a nslog:1040">\u7248\u672c</a>'.replace("{id}",_[0]));if(showIcon&&B==0){var A='<img align="absmiddle" class="contri-hide"  src="http://img.baidu.com/img/baike/contri_hide.gif" userName="{userName}" style="cursor:pointer;"/>'.replace("{userName}",userName);dom.push('<span class="contri-span">');dom.push(A);dom.push("</span></td></tr>");}else{dom.push('<span class="contri-span"></span></td></tr>');}});}}if(limit==20){dom.push('<tr id="tr-contri-less"><td align="center" colspan="4"><a id="contri-less" href="#" class="contri-a">\u6536\u8d77</a></td></tr>');}else{dom.push('<tr id="tr-contri-more"><td align="center" colspan="4"><a id="contri-more" href="#" class="contri-a">\u67e5\u770b\u66f4\u591a\u8d21\u732e\u8005</a></td></tr>');}dom.push("</table>");baidu.g("contri-div").innerHTML=dom.join("");if(baidu.g("contri-less")){baidu.on(baidu.g("contri-less"),"click",function(_){baidu.event.stop(_);bk.view.showMoreContri(5);});}if(baidu.g("contri-more")){baidu.on(baidu.g("contri-more"),"click",function(_){baidu.event.stop(_);bk.view.showMoreContri();});}baidu.array.each(baidu.q("contri-expand","pro-contributors"),function(_){baidu.on(_,"click",function(B){baidu.event.stop(B);var A=baidu.dom.getText(_);if(A=="\u5c55\u5f00"){bk.view.showLemma(baidu.dom.getAttr(_,"userName"),_);}else{bk.view.hideLemma(baidu.dom.getAttr(_,"userName"),_);}});});baidu.array.each(baidu.q("usercard","pro-contributors"),function(_){usercard.bindTrigger(_);});});nslog(window.location.href,1041);};bk.view.eD=function(B,_,A){baidu.on(B,_,function(_){A(baidu.event.get(_).target);baidu.event.preventDefault(_);});};bk.view.getCommonmoduleByPage=function(K,H,L,E,B){var C=baidu.event.getTarget(K);C.blur();var N=parseInt(baidu.dom.getAttr(H,"showTbody")),F=baidu.dom.getAttr(H,"targettable");if(C.tagName.toLowerCase()=="a"){var A=baidu.dom.getAttr(C,"type");switch(A){case"pagenum":var I=parseInt(baidu.dom.getAttr(C,"page"));bk.view.showTable(C,F,H,I,N,L);baidu.setAttr(H,"showTbody",I);nslog(window.location.href,611,{modulename:E});break;case"next":bk.view.showTable(C,F,H,N+1,N,L,"next");baidu.setAttr(H,"showTbody",N+1);nslog(window.location.href,611,{modulename:E});break;case"prev":bk.view.showTable(C,F,H,N-1,N,L,"prev");baidu.setAttr(H,"showTbody",N-1);nslog(window.location.href,611,{modulename:E});break;case"showall":for(var D=0;D<L;D++){var G=baidu.g(F+"-"+D);if(G){G.style.display="";baidu.dom.removeClass(G,"common-hide-tbody");baidu.dom.addClass(G,"common-show-tbody");}}H.getElementsByTagName("span")[0].style.display="none";var J=C.parentNode.getElementsByTagName("a")[0];bk.view.enableAnchor(C,1,"common-page","common-page-disable");bk.view.enableAnchor(J,0,"common-page-disable","common-page");nslog(window.location.href,612,{modulename:E});break;case"showpage":H.getElementsByTagName("span")[0].style.display="";for(D=0;D<L;D++){G=baidu.g(F+"-"+D);if(G){if(D==N){G.style.display="";baidu.dom.addClass(G,"common-show-tbody");baidu.dom.removeClass(G,"common-hide-tbody");}else{G.style.display="none";baidu.dom.addClass(G,"common-hide-tbody");baidu.dom.removeClass(G,"common-show-tbody");}}}baidu.setAttr(H,"showTbody",N);var _=C.parentNode.getElementsByTagName("a")[1];bk.view.enableAnchor(C,1,"common-page","common-page-disable");bk.view.enableAnchor(_,0,"common-page-disable","common-page");nslog(window.location.href,613,{modulename:E});break;default:break;}B.innerHTML="";var M=baidu.dom.getParent(B),O=baidu.q("common-hide-tbody",M);baidu.each(O,function(_){var A=baidu.q("common-module-a-ref",_);baidu.each(A,function(_){B.appendChild(_.cloneNode(false));});});}};bk.view.enableAnchor=function(_,B,A,C){baidu.setAttr(_,"prevent",B);baidu.dom.removeClass(_,A);baidu.dom.addClass(_,C);};bk.view.handleNextAndPrev=function(C,D,B){var _=C.getElementsByTagName("span")[0].getElementsByTagName("a");if("next"==D){var A=_[_.length-1];if(baidu.dom.getAttr(A,"type")=="next"){if("show"==B){bk.view.enableAnchor(A,0,"common-page-disable","common-page");}else{if("hide"==B){bk.view.enableAnchor(A,1,"common-page","common-page-disable");}}}}else{if("prev"==D){var E=_[0];if(baidu.dom.getAttr(E,"type")=="prev"){if("show"==B){bk.view.enableAnchor(E,0,"common-page-disable","common-page");}else{if("hide"==B){bk.view.enableAnchor(E,1,"common-page","common-page-disable");}}}}}};bk.view.showTable=function(J,A,E,C,H,G,I){var D=baidu.g(A+"-"+C);if(baidu.g(D)){var _=baidu.g(A+"-"+H);if(_){_.style.display="none";baidu.dom.addClass(_,"common-hide-tbody");baidu.dom.removeClass(_,"common-show-tbody");}var F=baidu.g(D);F.style.display="";baidu.dom.removeClass(F,"common-hide-tbody");baidu.dom.addClass(F,"common-show-tbody");var B=baidu.dom.q("common-pagenum",E);bk.view.enableAnchor(B[H],0,"common-page-disable-num","common-page");if(I=="next"){bk.view.enableAnchor(B[H+1],1,"common-page","common-page-disable-num");}else{if(I=="prev"){bk.view.enableAnchor(B[H-1],1,"common-page","common-page-disable-num");}else{bk.view.enableAnchor(B[C],1,"common-page","common-page-disable-num");}}baidu.setAttr(E,"showTbody",C);if(C>0&&C<(G-1)){bk.view.handleNextAndPrev(E,"next","show");bk.view.handleNextAndPrev(E,"prev","show");}else{if(C+1==G){bk.view.handleNextAndPrev(E,"next","hide");bk.view.handleNextAndPrev(E,"prev","show");}else{if(C==0){bk.view.handleNextAndPrev(E,"prev","hide");bk.view.handleNextAndPrev(E,"next","show");}}}}};bk.view.toggleSubModule=function(C,B){var _=baidu.g(C);if(_){if(baidu.dom.hasClass(B,"show-sub-module")){baidu.dom.show(_);baidu.dom.addClass(_,"module-common-3-sub-bg");baidu.dom.removeClass(B,"show-sub-module");baidu.dom.addClass(B,"hide-sub-module");B.innerHTML="";}else{if(baidu.dom.hasClass(B,"hide-sub-module")){baidu.dom.hide(_);baidu.dom.removeClass(_,"module-common-3-sub-bg");baidu.dom.removeClass(B,"hide-sub-module");baidu.dom.addClass(B,"show-sub-module");var A=baidu.dom.q("common-module-a-ref",_);baidu.array.each(A,function(A){var _=A.cloneNode(false);baidu.dom.setStyle(_,"width","0px");B.appendChild(_);});}}}};bk.view.reference={lastHighlightSup:null,lastHighlightReference:[],highlightReference:function(_){baidu.dom.addClass(baidu.g("reference-"+_+"-wrap"),"reference_highlight");},highlightSup:function(_){_.className="reference_highlight";},getSup:function(_){var B=document.getElementById("content").getElementsByTagName("a"),A=null;for(var D=0;A=B[D];D++){if(A.name===_||(A.getAttribute("data-collapsed")&&C(A.name,_))){break;}}if(!A){return null;}return A.previousSibling;function C(A,C){var B=A.split("_")[1].replace(/\[|\]/g,"").split("&"),_=C.split("_")[1].replace(/\[|\]/g,"");if(+_<=+B[1]&&+_>=+B[0]){return 1;}return 0;}},getReference:function(_,B){var C=[],A=_.substr(1,_.length-2).split("-");if(A.length==1){C.push("["+A[0]+"]"+"-"+B);}else{for(var D=A[0];D<=A[1];D++){C.push("["+D+"]"+"-"+B);}}return C;},scroll:function(_){var A=parseInt(baidu.dom.getPosition(_).top)-5;if(A>0){window.scrollTo(0,A);}},resetSupHighlight:function(){bk.view.reference.lastHighlightSup&&(bk.view.reference.lastHighlightSup.className="");},resetReferenceHighligh:function(){for(var A=0,_;_=bk.view.reference.lastHighlightReference[A];A++){baidu.dom.removeClass(baidu.g("reference-"+_+"-wrap"),"reference_highlight");}},supClick:function(C,A){bk.view.reference.resetReferenceHighligh();var _=bk.view.reference.getReference(C.innerHTML,A);bk.view.reference.lastHighlightReference=_;bk.view.reference.lastFromSup=C;for(var B=0;B<_.length;B++){bk.view.reference.highlightReference(_[B]);}bk.view.reference.scroll(baidu.g("reference-"+_[0]+"-wrap"));},referenceClick:function(C){var A=C.href.substr(C.href.indexOf("#")+1);bk.view.reference.resetSupHighlight();if(_(A)){var B=bk.view.reference.lastFromSup;}else{B=bk.view.reference.getSup(A);}bk.view.reference.lastHighlightSup=B;bk.view.reference.highlightSup(B);bk.view.reference.scroll(B);function _(_){for(var A=0;A<bk.view.reference.lastHighlightReference.length;A++){if(("ref-"+bk.view.reference.lastHighlightReference[A])==(_.split("_").join("-"))){return 1;}}return 0;}},init:function(){baidu.each(baidu.dom.query("#content .lemma-main-content"),function(A,_){baidu.on(A,"click",function(B){var E=baidu.event.get(B),F=E.target;if(F.nodeName.toUpperCase()!=="SUP"){return;}var D=baidu.dom.next(F);if(!D||D.nodeName.toUpperCase()!=="A"||!D.getAttribute("name")){return;}var A=D.getAttribute("name"),C=A.split("_");if(C.length>2){_=C[C.length-1];}D=null;bk.view.reference.supClick(F,_);nslog(window.location.href,1970);});});baidu.each(baidu.dom.query("#content div.reinforce dd.reference"),function(A,_){baidu.on(A,"click",function(_){var A=baidu.event.get(_),B=A.target;if(B.nodeName.toUpperCase()=="A"&&B.className=="ref-top"){window.location.hash=B.href.substr(B.href.indexOf("#")+1);baidu.event.preventDefault(A);bk.view.reference.referenceClick(B);nslog(window.location.href,1971);}});});var _=baidu.dom.query("#viewRefer li");if(_){nslog(window.location.href,1967);nslog(window.location.href,1969,{refNum:_.length});}}};baidu.more.ns("bk.view");baidu.more.ns("bk.view.sublemma");bk.view.subLemmaTitleStatusChange=function(B,I){var G=baikeViewInfo.expIndex,F=baidu.dom.getPosition,K=baidu.g("sec-header"+B),D=baidu.dom.children("sublemma-options-list"),_=baidu.addClass,H=baidu.removeClass;if(I&&G<B){var E=F(K).top,J=E-baidu.page.getScrollTop();}if(G!=-1){baidu.hide("sec-content"+G);H("sec-header"+G,"b-ent-section-expand");H(D[G],"expand");}if(G!=B){if(I&&G<B){var A=F(K).top,C=A-J;if(document.documentElement.scrollTop){document.documentElement.scrollTop=C;}else{if(document.body.scrollTop){document.body.scrollTop=C;}}}baidu.show("sec-content"+B);_(K,"b-ent-section-expand");_(D[B],"expand");bk.view.initSectionHandle(B);}bk.event.fire("bk.event.SectionStatusChanged",B);baikeViewInfo.expIndex=(G==B)?-1:B;};bk.view.sublemma.fx=null;bk.view.showorhideSubLemmaList=function(B){var E=baidu.g("b-ent-toc-trigger"),D=baidu.g("sublemma-options-list");if(bk.view.sublemma.fx){bk.view.sublemma.fx.stop();}if(B){var A=Math.ceil(D.getElementsByTagName("li").length/2)*26,C=new FX(D,{height:{to:A}},0.3,"easeIn",function(){baidu.removeClass(E.parentNode.parentNode,"expand");E.parentNode.title="\u6536\u8d77\u4e49\u9879";});baidu.on(document,"click",bk.view.outclick);}else{C=new FX(D,{height:{to:72}},0.3,"easeOut",function(){baidu.addClass(E.parentNode.parentNode,"expand");E.parentNode.title="\u66f4\u591a\u4e49\u9879";});try{baidu.un(document,"click",bk.view.outclick);}catch(_){}}E.status=B;bk.view.sublemma.fx=C;C.start();};bk.view.initSubLemmaList=function(){var E=baikeViewInfo.expIndex,F=baikeViewInfo.subLen;function H(A){var _=baidu.dom.q("hook-lemma-ext-module","sec-content"+A);baidu.each(_,function(A,_){A.src=A.getAttribute("data-src");A=null;});}if(baikeViewInfo.isMulit){var A={};bk.view.initSectionHandle=function(_){if(!A[_]){bk.view.catalog().start(_);H(_);bk.view.lemmaImageInit(baidu.g("sec-content"+_));if(baidu.g("cardpic"+_)){bk.view.cardImageInit(baidu.g("cardpic"+_));}try{A[_]=true;}catch(B){}}};var G=baidu.g("sublemma-options-list"),C=baidu.dom.children(G);for(var J=0;J<F;J++){var D=baidu.g("sec-header"+J);baidu.on(D,"click",(function(_){return function(){bk.view.subLemmaTitleStatusChange(_,true);};}(J)));baidu.on(C[J],"click",(function(_){return function(A){if(baidu.dom.hasClass(this,"expand")){return;}var B=baidu.event.getTarget(A);if(B.tagName.toLowerCase()=="a"){bk.view.subLemmaTitleStatusChange(_,false);}};}(J)));var I=baidu.q("b-ent-section-action-toggle",D)[0];baidu.on(I,"mouseover",function(){baidu.addClass(this,"section-hover");});baidu.on(I,"mouseout",function(){baidu.removeClass(this,"section-hover");});baidu.on(I,"click",function(_){baidu.event.preventDefault(_);});}H(E);bk.view.catalog().start(E);A[E]=true;baidu.addClass(C[E],"expand");baidu.addClass("sec-header"+E,"b-ent-section-expand");var _=baidu.g("b-ent-toc-trigger");if(_){var B=_.parentNode;baidu.on(B,"click",function(A){bk.view.showorhideSubLemmaList(!_.status);baidu.event.preventDefault(A);});baidu.on(B,"mouseover",function(){baidu.addClass(this,"toc-hover");});baidu.on(B,"mouseout",function(){baidu.removeClass(this,"toc-hover");});baidu.on(G,"mouseover",function(){baidu.addClass(baidu.g("b-ent-toc-trigger").parentNode,"toc-hover");});baidu.on(G,"mouseout",function(){baidu.removeClass(baidu.g("b-ent-toc-trigger").parentNode,"toc-hover");});baidu.on("sublemma-options-list","click",function(_){var A=baidu.event.getTarget(_);if(A.nodeType==1&&(A.tagName.toLowerCase()=="a"||A.tagName.toLowerCase()=="span")){return;}else{nslog(location.href,515,{target:"list"});bk.view.showorhideSubLemmaList(1);}});bk.view.outclick=function(_){if(baidu.g("sidecatalog").style.display!="none"){return;}var A=baidu.event.getTarget(_);if(!baidu.dom.contains(baidu.g("sublemma-options-list").parentNode,A)){bk.view.showorhideSubLemmaList(0);}A=null;};}}else{H(0);}};function getUserInfoAsc(){var _="/api/personalmesg?date="+new Date().getTime();baidu.ajax.get(_,function(_){showUserInfo(_);window.setTimeout(bk.ui.enctip.build_userinfo_tip,300);});}function showUserInfo(Q){document.getElementById("userInfoDiv").innerHTML='<div class="userinfo-inner fix"><div id="userMessage" class="fix">'+'<a href="/uc/home" target="_blank"  onclick="nslog(this.href,221);"><img id="userPic" class="userinfo-pic"/></a>'+'<div id="userDetail"><div id="userTitle"><a id="kedoutuanPic" href="http://baike.baidu.com/cms/s/kdt/index.html" '+'target="_blank" onclick="nslog(this.href,223);"><img id="iconOdp" border="0" title="\u767e\u79d1\u874c\u86aa\u56e2" alt="\u767e\u79d1\u874c\u86aa\u56e2"/></a>'+'<a id="masterPic" href="http://baike.baidu.com/cms/topic/master/index.html" target="_blank"><img id="iconAdmin" border="0" '+'title="\u767e\u79d1\u5206\u7c7b\u7ba1\u7406\u5458" alt="\u767e\u79d1\u5206\u7c7b\u7ba1\u7406\u5458"/></a><a id="corePic" href="http://baike.baidu.com/cms/s/core/index.html" target="_blank">'+'<img id="iconVip" border="0" title="\u6838\u5fc3\u7528\u6237" alt="\u6838\u5fc3\u7528\u6237"/></a><a href="/uc/home" id="userTitleLink" target="_blank" '+' onclick="nslog(this.href,222);"></a></div><p><a href="http://www.baidu.com/search/baike_help.html#&#30334;&#31185;&#31215;'+'&#20998;&#20307;&#31995;" target="_blank"><img src="http://img.baidu.com/img/baike/blank.gif" align="absmiddle" id="userTitlePic" />'+'</a><a href="http://www.baidu.com/search/baike_help.html#&#39640;&#36136;&#37327;&#29256;&#26412;&#19982;&#20248;&#36136;&#29256;&#26412;'+'&#35780;&#36873;&#35268;&#21017;&#65288;&#50;&#48;&#49;&#49;&#45;&#48;&#50;&#45;&#49;&#52;&#65289;" target="_blank" id="highVersionLink" '+'title="\u9ad8\u8d28\u91cf\u7248\u672c"></a><span id="highVersionNum"></span><a href="http://www.baidu.com/search/baike_help.html#&#39640;&#36136;&#37327;'+"&#29256;&#26412;&#19982;&#20248;&#36136;&#29256;&#26412;&#35780;&#36873;&#35268;&#21017;&#65288;&#50;&#48;&#49;&#49;&#45;&#48;&#50;"+'&#45;&#49;&#52;&#65289;" target="_blank" id="goodVersionLink" title="\u4f18\u8d28\u7248\u672c"></a><span id="goodVersionNum"></span></p>'+'<div id="userProcessBack"><div id="userProcess"></div></div></div><div id="bkshopViewPropsTips" style="clear:both;"></div></div>'+'<div class="userin-split"></div><div class="piece dnone"><div id="growupTask" class="mb10 dnone"><h3 class="fix"><a href="/uc/task" '+'target="_blank" class="mr8 icon-growup-task" onclick="nslog(this.href,447)"></a><a target="_blank" href="/uc/task" class="title" '+'onclick="nslog(this.href,447)">\u6210\u957f\u4efb\u52a1</a></h3><ul id="growupTasks"></ul></div><div id="dailyTask" class="mb10 dnone"><h3 class="fix">'+'<a target="_blank" href="/uc/task#3" onclick="nslog(this.href, 460)" class="mr8 icon-common-task"></a><a target="_blank" '+'onclick="nslog(this.href,460)" href="/uc/task#3" class="title">\u65e5\u5e38\u4efb\u52a1</a></h3><ul id="dailyTasks"></ul></div>'+'<div id="hotWord" class="mb10 dnone"><div style="position:relative;"><h3 class="fix"><a href="http://www.baidu.com/search/baike/hothelp/" '+'target="_blank" id="hotHelp" class="mr8 icon-hotword"></a><a href="/uc/recommend" target="_blank" class="title" '+'onclick="nslog(this.href,224);">\u70ed\u8bcd\u63a8\u9001</a><a href="javascript:void(0)" id="hotWordRefresh" class="hot-word-refresh" '+'onclick="showHotwords();nslog(this.href,225)"></a></h3><ul id="hotWords"></ul><div id="hotHelpTip" class="tip">'+'<div id="hotHelpTipMain" class="tipMain"><p>\u7f16\u8f91\u70ed\u8bcd\u53ef\u83b7\u5f97\u989d\u5916\u7ecf\u9a8c\u503c</p></div></div><div id="completeTip" class="tip">'+'<div id="completeTipMain" class="tipMain"></div></div><div id="hotReasonTip" class="tip reason-tip">'+'<div id="hotReasonTipMain" class="tipMain"></div></div></div></div></div><div class="piece dnone">'+'<div id="encourage" class="mb10"><h3 class="fix"><a id="encourage_icon_href" href="#" class="mr8 fl">'+'</a><a href="#" id="encourage_title" class="title">'+'</a></h3><ul id="encouragements"></ul></div></div><div class="piece dnone"><div id="effort" class="mb10 dnone"><h3 class="fix">'+'<a href="/uc/effort" class="mr8 icon-lemma" target="_blank" onclick="nslog(this.href,241);"></a><a href="/uc/effort" class="title" '+'target="_blank"  onclick="nslog(this.href,241);">\u8bcd\u6761\u52a8\u6001</a></h3><ul id="efforts"></ul></div></div><div class="gotouc-wrap">'+'<a href="/uc/home" target="_blank" class="gotouc" onclick="nslog(this.href,227);">\u8fdb\u5165\u6211\u7684\u767e\u79d1</a></div><div id="userTip" class="tip">'+'<div id="userTipMain" class="tipMain"><p>\u60a8\u76ee\u524d\u7684\u7b49\u7ea7\u662f<span id="userLevel"></span>\u7ea7<br />\u60a8\u76ee\u524d\u7684\u7ecf\u9a8c\u503c\u662f<span id="totalscore"></span>'+'\u70b9<br />\u60a8\u8fd8\u9700<span id="scorediff"></span>\u70b9\u7ecf\u9a8c\u503c\u5373\u53ef\u5347\u4e3a<span id="nextlevel"></span>\u7ea7<br /></p></div><div id="userTipArrow"></div>'+'<div id="userTipBack"></div></div></div>';var O=baidu.json.parse(Q.responseText);bk.lemma.bottleMessage.run(O.base);document.getElementById("userPic").src=O.base.avatar;var A=30;if(O.base.uid){bk.shop.listMyProps();}var K=baidu.dom.query("a.throwbtl-link-view");if(O.base.uid&&K.length>0){var R=baikeViewInfo.id,L=baikeViewInfo.title;baidu.array.each(K,function(_){var C=baidu.dom.getAttr(_,"subLemmaId")||"",A=baidu.dom.getAttr(_,"subLemmaTitle")||"",B=baidu.dom.getAttr(_,"oriLemmaId")||R;if(B==C){C="";}_.onclick=function(){var D=baidu.dom.getAttr(this,"isViewCard")||"";nslog(location.href,D?3001:3002);return baidu.bottle.throwBottle({lemmaId:B,lemmaTitle:L,userId:O.base.uid,modType:1,subLemmaId:C,subLemmaTitle:A,link:_});};});}if(O.base.odp==2){A-=4;baidu.g("iconOdp").src="http://img.baidu.com/img/baike/userrole/odp"+O.base.odpLevel+".png";baidu.g("kedoutuanPic").style.display="inline-block";}if(O.base.admin>=2){A-=4;baidu.g("iconAdmin").src="http://img.baidu.com/img/baike/userrole/channeladmin"+O.base.adminLevel+".png";baidu.g("masterPic").style.display="inline-block";}if(O.base.vip){A-=4;baidu.g("iconVip").src="http://img.baidu.com/img/baike/userrole/core"+O.base.vipLevel+".png";baidu.g("corePic").style.display="inline-block";}var G=baidu.g("highVersionLink");baidu.g("highVersionNum").innerHTML=O.base.hqVerNum;var T=baidu.g("goodVersionLink");baidu.g("goodVersionNum").innerHTML=O.base.goodVerNum;if(O.base.hqVerNum>0){G.href="/uc/effort/#8";}if(O.base.goodVerNum>0){T.href="/uc/effort/#7";}if(window.curUser&&curUser.hasUname==false){var E=baidu.g("userTitle");E.innerHTML='<div class="newbie">\u767e\u79d1\u65b0\u4eba</div><a class="setname" href="javascript:bk.pass.fillUsername({nslogType: 3728});">\u8bbe\u7f6e\u7528\u6237\u540d</a>';E.className="fix";}else{baidu.g("userTitleLink").innerHTML=O.base.username.subByte(A);}baidu.g("userTitlePic").className="usertitle level"+O.base.level;baidu.g("userProcess").style.width=O.base.scorept+"%";if(O.hotword&&O.hotword.suc){words=O.hotword.data.words;showHotwords();setTimeout(function(){var _=baidu.g("hotWord");baidu.removeClass(_,"dnone");baidu.removeClass(_.parentNode,"dnone");},0);var H=baidu.g("hotHelp"),D=baidu.g("hotHelpTip");baidu.on(H,"mouseover",function(){showTip(D);});baidu.on(H,"mouseout",hideTip(D));}var P={notpassed:["\u672a\u901a\u8fc7\u7248\u672c","/uc/effort/#3"],HQVersion:["\u9ad8\u8d28\u91cf\u7248\u672c","/uc/effort/#8"],goodVersion:["\u4f18\u8d28\u7248\u672c","/uc/effort/#7"],passVersion:["\u5df2\u901a\u8fc7\u7248\u672c","/uc/effort"]};if(O.effort&&O.effort.suc){var C=O.effort.data;for(var I in C){var M=true;break;}if(M){var J=[];for(I in C){var F=32-P[I][0].byteLength();J.push("<li>");J.push('<a class="blink" href="');J.push(P[I][1]);J.push('" target="_blank" onclick="nslog(this.href,242);">');J.push(P[I][0]);J.push("</a><span>\uff1a</span>");J.push('<a href="http://baike.baidu.com/history/id=');J.push(C[I].versionid);J.push('" target="_blank">');J.push(C[I].title.subByte(F));J.push("</a>");J.push("</li>");}baidu.g("efforts").innerHTML=J.join("");var _=baidu.g("effort");baidu.removeClass(_,"dnone");baidu.removeClass(_.parentNode,"dnone");nslog(location.href,244);baidu.each(baidu.g("effort").getElementsByTagName("a"),function(_){baidu.on(_,"mousedown",function(){nslog(this.href,243);});});}}baidu.g("userInfoDiv").style.display="block";var U=baidu.g("userTip"),B=58,S=215;baidu.g("userTipArrow").style.left=Math.round(B+(S-B)*O.base.scorept/100)-4+"px";var N=baidu.g("userProcessBack");baidu.on(N,"mouseover",function(){showTip(U);});baidu.on(N,"mouseout",hideTip(U));baidu.g("userLevel").innerHTML=O.base.level;baidu.g("totalscore").innerHTML=O.base.totalscore;baidu.g("scorediff").innerHTML=O.base.scorediff;baidu.g("nextlevel").innerHTML=O.base.nextlevel;showGrowupTask(O.levelTaskInfo);O.routineTasks&&showDailyTask(O.routineTasks);}function showHotwords(){var B=words.length||0,E=2,C=[];while(C.length!=E){var K=Math.round(Math.random()*(B-1)),D=false,F;for(F=0;F<C.length;F++){if(C[F]==K){D=true;break;}}if(D){continue;}C.push(K);if(C.length==words.length){break;}}var J="",A=[];for(F=0;F<4&&F<C.length;F++){var G=baidu.string.decodeHTML(words[C[F]].title),I=baidu.string.decodeHTML(words[C[F]].perfectpoints),_=baidu.string.decodeHTML(words[C[F]].reason),H=G.subByte(10);A.push("<li>");A.push('<a onclick="nslog(this.href,226);"  target="_blank" href="');A.push(words[C[F]].link+'"');A.push(' onmouseout="hideCompleteTip();"');A.push(' onmouseover="showCompleteTip('+F+", '"+baidu.string.encodeHTML(G).replace(/'/g,"&acute;")+"', '"+baidu.string.encodeHTML(I).replace(/'/g,"&acute;")+"');\">");A.push(baidu.string.encodeHTML(H));A.push("</a>");A.push("<span");A.push(' onmouseout="hideHotReasonTip();"');A.push(' onmouseover="showHotReasonTip('+F+",'"+baidu.string.encodeHTML(_).replace(/'/g,"&acute;")+"');\"");A.push(">\uff1a");A.push(baidu.string.encodeHTML(_.subByte(32-H.byteLength())));A.push("</span>");A.push("</li>");}baidu.g("hotWords").innerHTML=A.join("");}function showTip(_){if(timeout){clearTimeout(timeout);baidu.g("completeTip").style.display="none";}_.style.display="block";}function hideTip(_){return function(){_.style.display="none";};}function hideHotReasonTip(){baidu.g("hotReasonTip").style.display="none";}var timeout;function hideCompleteTip(){timeout=setTimeout(function(){baidu.g("completeTip").style.display="none";},1000);}function showHotReasonTip(B,_){_=baidu.string.encodeHTML(_);if(timeout){clearTimeout(timeout);baidu.g("completeTip").style.display="none";}var A=baidu.g("hotReasonTip");baidu.g("hotReasonTipMain").innerHTML="<p>"+_+"</p>";A.style.top=50+B*20+"px";A.style.display="block";}function showCompleteTip(D,_,B){_=baidu.string.encodeHTML(_);B=baidu.string.encodeHTML(B);if(timeout){clearTimeout(timeout);}var C=baidu.g("completeTip");baidu.g("completeTipMain").innerHTML="<p>"+_+"</p><p><span>\u5b8c\u5584\u70b9\uff1a</span>"+B+"</p>";C.style.display="block";var A=C.scrollHeight;C.style.top=54+D*20-A-21+"px";}function showGrowupTask(F){if(!F){F={};F.taskStat=0;}else{if(F==9){return;}}var A=function(A){var _="";switch(parseInt(A)){case 1:_="\u73b0\u5728\u53bb\u5b8c\u6210";break;case 2:_="\u73b0\u5728\u53bb\u9886\u5956";break;default:_="\u6211\u8981\u53bb\u53c2\u52a0";break;}return _;},E=F.taskStat!=0,B=baidu.q("icon-growup-task","growupTask")[0],D=[],_=baidu.g("growupTask");if(!E){D.push('<li class="fix" style="margin-top:4px;"><span class="fl">\u52a0\u901f\u5347\u7ea7\uff0c\u5feb\u901f\u6210\u957f\u3002</span><a href="/uc/task#1" target="_blank" '+'class="act mr8">'+A(F.taskStat)+"&gt;&gt;</a></li>");baidu.g("growupTasks").innerHTML=D.join("");baidu.removeClass(_,"dnone");baidu.removeClass(_.parentNode,"dnone");B.title="\u6210\u957f\u4efb\u52a1";baidu.each(baidu.dom.query("#growupTask h3 a"),function(_){_.href+="#1";});return;}else{B.title=F.taskName;var C=-49;B.style.backgroundPosition=(C-(F.groupID-1)*16)+"px -122px";var G="/api/task/leveltask?groupID="+F.groupID+"&taskID="+F.taskID+"&action=getGroupTask&ref=lemma&r="+Math.random();baidu.ajax.get(G,function(C){if(C.responseText){var B=baidu.json.parse(C.responseText);B.taskProcess=(B.taskStat==2?1:B.taskProcess);D.push("<li>");D.push('<a class="mr4" target="_blank" href="/uc/task#2" onclick="nslog(this.href, 448)">');D.push(B.taskName);D.push("</a>");D.push('<span class="mr4">'+B.taskTaget+"</span>");D.push('<span class="mr4"><span class="icon-wealth mr4"></span>&nbsp;<span class="impt-word">+'+B.taskGold+"</span></span>");D.push("</li>");D.push('<li class="fix">');D.push('<a class="act mr8" href="/uc/task#2" target="_blank" onclick="nslog(this.href, 448)">'+A(B.taskStat)+"&gt;&gt;</a>");D.push('<div id="taskProgress" class="progressbar"></div>');D.push("</li>");baidu.g("growupTasks").innerHTML=D.join("");baidu.each(baidu.dom.query("#growupTask h3 a"),function(_){_.href+="#2";});baidu.removeClass(_,"dnone");baidu.removeClass(_.parentNode,"dnone");bk.usercenter.progressbar.init({text:"\u5b8c\u6210"+parseInt(B.taskProcess*100)+"%",selector:"taskProgress",process:B.taskProcess,textStyle:"color:#"+(B.taskStat==1?"e4ff00":"fff"),maxWidth:120,type:"simple"});}});}}function showDailyTask(D){var A=D.faces.length,B=[];function H(){var _=false,B=(new Date()).getDate();if(A>0){var C;for(C=0,len=D.faces.length;C<len;++C){if(D.faces[C]==B){_=true;break;}}}return _;}function C(C){var A=[],F;for(F=0,len=C.length;F<len;++F){var B=C[F],_=B.taskType,D=B.taskStatus==1?"\u7ee7\u7eed\u53c2\u52a0":"\u53c2\u52a0\u4efb\u52a1",E=B.awardTxt?'\uff0c\u62ff<span class="mlr4 impt-word">'+B.awardTxt.replace("\u70b9\u4eae\u4eba\u7269","\u70b9\u4eae\u4efb\u52a1")+"</span>":"";A.push('<li><a target="_blank" href="'+B.entry+'">'+(B.shortTitle||B.name)+"</a>\uff1a"+D+E+'<a href="'+B.entry+'" target="_blank" class="goto"></a></li>');}return A.join("");}if(D.ongoingjoined.length==0&&D.recommend.length==0){return;}B.push('<li>\u672c\u6708\u7d2f\u8ba1\u70b9\u4eae<span class="impt-word mlr4">'+A+"</span>\u5929\u3002");if(!H()){B.push("\u4eca\u65e5\u7b11\u8138\u8fd8\u6ca1\u70b9\u4eae\u54e6\u3002");}B.push("</li>");var F=[];if(D.ongoingjoined&&D.ongoingjoined.length>0){var E=D.ongoingjoined[0];E.taskStatus=1;if(E.badgesToGain.length>0){E.awardTxt=E.badgesToGain[0].name;}F.push(E);}if(D.recommend&&D.recommend.length>0){var _=D.recommend[0];_.taskStatus=2;_.awardTxt=_.award[0];F.push(_);}B.push(C(F));var G=baidu.g("dailyTask");baidu.g("dailyTasks").innerHTML=B.join("");baidu.removeClass(G,"dnone");baidu.removeClass(G.parentNode,"dnone");}function getUserRightAsc(){var _="/api/polycheck?lemmaId="+baikeViewInfo.id+"&date="+new Date().getTime();baidu.ajax.get(_,function(B,_){if(_=="0"){var A=baidu.g("polyin");if(A&&!window.hasBeanTemplate){A.innerHTML="\u62c6\u5206\u8bcd\u6761";baidu.dom.addClass(A,"dividable-lemma");}if(baidu.g("subSet")){baidu.g("subSet").innerHTML='<em class="sprite b-ent-toc-action-setting"></em><span>\u8bbe\u7f6e</span>';}if(baidu.g("link-divider")){baidu.show("link-divider");}}});}function getTemplateInfo(){baidu.ajax.post("/api/templatecheck","lemmaId="+baikeViewInfo.id,function(C,E){var _=baidu.json.parse(E);if(_){var D=_.provilege,B=_.subLemma,A=0;baidu.object.each(B,function(_,B){A++;});if(A==1){baidu.object.each(B,function(A,B){if(A==0&&D==0){var _=baidu.g("tmpdivide");if(_){_.innerHTML="\u6a21\u677f\u5316\u8bcd\u6761";_.style.display="";}}else{if(A==1){if(baidu.g("tmpdivide")){baidu.dom.remove("tmpdivide");}}else{if(A==2){if(baidu.g("tmpdivide")){baidu.dom.remove("tmpdivide");}window.hasBeanTemplate=true;}}}});}else{if(A>1){if(D==0){baidu.object.each(B,function(A,B){var _=baidu.g("tpl-"+B);if(A==0){if(_){_.getElementsByTagName("em")[0].innerHTML="\u6a21\u677f\u5316\u8be5\u4e49\u9879";_.style.display="";}}else{if(A==1){if(_){baidu.dom.remove(_);}}}});}}}}getUserRightAsc();});}baidu.dom.ready(function(){baidu.ajax.get("/api/lemmacnt/"+baikeViewInfo.id+"?rec=1",function(xhr){var result=eval("("+xhr.responseText+")");if(result){baidu.G("viewPV").innerHTML=result.pv;if(result.dynamic){bk.view.getDynamicData();}}});baidu.sio.callByBrowser("http://like.baidu.com/get?key="+baikeViewInfo.id+"&cb=getVoteData&type=0&like=1&pid=3&random="+Math.random());(function(){var _=baidu.G("vote_btn");baidu.on(_,"mouseover",function(){this.className="text_vote2";});baidu.on(_,"mouseout",function(){this.className="text_vote1";baidu.G("vote_txt").innerHTML="\u672c\u8bcd\u6761\u5bf9\u6211\u6709\u5e2e\u52a9";});baidu.on(_,"click",function(){nslog(window.location.href,3623);baidu.sio.callByBrowser("http://like.baidu.com/set?key="+baikeViewInfo.id+"&cb=setVoteData&type=0&like=1&pid=3&random="+Math.random());});_=null;}());baidu.each(document.getElementsByTagName("img"),function(A,_){if(A.className=="editorImg"){baidu.on(A,"mousedown",function(){nslog(this.src,8);});}});bk.view.relatedInit();bk.view.coEditorInit();(function(){var A=location.hash;if(A){setTimeout(function(){window.location.hash=A.slice(1);},1000);}var _=baidu.G("lastModifyTime");_.innerHTML=bk.view.getDays(baidu.trim(_.innerHTML));}());baidu.on(baidu.g("gotop"),"click",function(_){baidu.event.preventDefault(_);nslog(location.href,1028);window.scrollTo(0,0);});bk.view.initSubLemmaList();bk.view.reference.init();baidu.sio.callByBrowser("/static/usercenter/js/release/bk.usercard.js?r="+Math.random());(function(){if(baidu.browser.isWebkit){var _=baidu.q("commmonModule-th","content");baidu.each(_,function(_){_.width=parseInt(_.width)+40;});}}());var spans=baidu.q("show-sub-module");baidu.each(spans,function(B){var A=baidu.dom.next(baidu.dom.getAncestorByTag(B,"tr"));if(A){var _=baidu.q("common-module-a-ref",A);baidu.each(_,function(A){var _=A.cloneNode(false);baidu.dom.setStyle(_,"width","0px");B.appendChild(_);});}});spans=baidu.q("common-refcon-1");baidu.each(spans,function(_){var A=baidu.q("common-hide-tbody",baidu.dom.getParent(_));baidu.each(A,function(A){var B=baidu.q("common-module-a-ref",A);baidu.each(B,function(A){_.appendChild(A.cloneNode(false));});});});});if(padFlag){baidu.more.ns("bk.view.ipad");bk.view.ipad.init=function(){var A=function(){var _=Math.abs(window.orientation)==90?"landscape":"portrait";if(_=="landscape"&&bk.view.ipad.hideSide){bk.view.ipad.hideSide();}bk.view.sidecatalog&&bk.view.sidecatalog.resize();};window.addEventListener("orientationchange",A,false);A();baidu.dom.insertHTML("side","beforeBegin",'<div id="side-lock" onclick="bk.view.ipad.showSide(event);"></div>');baidu.dom.insertHTML("side","afterBegin",'<div id="side-lock2" onclick="bk.view.ipad.hideSide(event);"></div>');baidu.dom.insertHTML("sw1","beforeBegin",'<a id="gsst_a" onclick="baidu.g(\'word\').value=\'\';baidu.hide(this);" style="display:none;"><span class="gscb_a">\xd7</span></a>');function _(){if(baidu.g("word").value!=""){baidu.show("gsst_a");}else{baidu.hide("gsst_a");}}_();baidu.on("word","keyup",_);baidu.dom.insertHTML("path","beforeEnd",'<ul id="path-more" style="display:none;"></ul>');baidu.each(baidu.dom.query("#path li").slice(-3),function(_){var A=_.cloneNode(true);baidu.dom.addClass(_,"portrait-hidden");baidu.g("path-more").appendChild(A.cloneNode(true));});baidu.dom.insertHTML(baidu.dom.first("path"),"beforeEnd",'<li id="path-more-act"><a onclick="bk.view.ipad.showMPath(event);">\u66f4\u591a\u25bc</a></li>');};bk.view.ipad.init();bk.view.ipad.showSide=function(_){_.stopPropagation();nslog(location.href,5305);baidu.dom.addClass("side","side-show");baidu.hide("side-lock");baidu.on(document.body,"touchmove",bk.view.ipad.hideSide);baidu.g("side").ontouchmove=function(){return false;};baidu.on(document.body,"click",bk.view.ipad.hideSide);};if(padFlag<5){bk.view.ipad.sidePostion=function(){var _=baidu.page.getScrollTop();baidu.g("side").style.top=_+"px";baidu.g("side-lock").style.top=455+_+"px";};baidu.on(window,"scroll",bk.view.ipad.sidePostion);}bk.view.ipad.hideSide=function(_){if(_){var A=baidu.event.get(_),B=A.target;if(B.id=="side"){return;}}if(!_||B.id=="side-lock2"||!baidu.dom.contains("side",B)){baidu.dom.removeClass("side","side-show");if(_&&_.type=="touchmove"){baidu.hide("side");setTimeout(function(){baidu.show("side");},500);}baidu.show("side-lock");baidu.un(document.body,"touchmove",bk.view.ipad.hideSide);baidu.g("side").ontouchmove=function(){};baidu.un(document.body,"click",bk.view.ipad.hideSide);}};bk.view.ipad.showMPath=function(_){_.stopPropagation();var A=baidu.event.get(_),B=A.target;if(!baidu.dom.contains("path-more",B)){baidu.dom.toggle("path-more");baidu.dom.toggleClass("path-more-act","path-more-act");baidu[baidu.dom.hasClass("path-more-act","path-more-act")?"on":"un"](document.body,"click",bk.view.ipad.showMPath);}};showHotReasonTip=function(){};showCompleteTip=function(){};showTip=function(){};bk.view.ipad.touchMove=function(F,_){var E=0,A,C,B=_?"left":"top";function D(_){_=_.touches.item(0);return{left:_.pageX,top:_.pageY};}window.ontouchstart=function(_){};F.ontouchstart=function(G){A=(_?parseInt(baidu.dom.getStyle(F,"width")):F.clientHeight)-parseInt(baidu.dom.getStyle(F.parentNode,[_?"width":"height"]));E=D(G)[B];C=parseInt(F.style[B])||0;flag=baidu.event.getTarget(G).nodeName.toLowerCase()=="a";return true;};F.ontouchmove=function(_){var G=C+D(_)[B]-E;G=((G>0)?0:(G<-A?-A:G));F.style[B]=G+"px";return false;};F.ontouchend=function(){return true;};};baidu.dom.ready(function(){bk.view.ipad.touchMove(baidu.g("side-title-list"),0);baidu.each(baidu.q("card-image","page"),function(_){_.parentNode.target="_self";});baidu.each(baidu.dom.query(".text_pic a"),function(_){_.target="_self";});baidu.each(baidu.q("album-overlay","page"),function(_){_.target="_self";});});window.onhashchange=function(){window.scrollBy(0,-10);};}baidu.more.ns("bk.editor");bk.editor.ani=function(B,_,A){if(B){this.time=B;}if(_){this.transform=_;}if(A){this.interval=A;}};bk.editor.ani.prototype={interval:40,transform:function(_){return 1-Math.pow(1-_,3);},time:2000,task:null,finishFunc:null,start:function(F,G){var E=this.interval,B=this.time,A=this.transform,H=A(1),D=0,_=this;this.finishFunc=G;function C(){D+=E;var C=D/B;if(C>=1){F(1);G&&G();clearInterval(_.task);}else{F(A(C)/H);}}this.task=setInterval(C,E);},stop:function(){if(this.task){clearInterval(this.task);}if(this.finishFunc){this.finishFunc();}}};